import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as a,e as t}from"./app.5aebcaaa.js";const l={},i=t(`<h1 id="\u7C7B\u6587\u4EF6\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u6587\u4EF6\u7ED3\u6784" aria-hidden="true">#</a> \u{1F52F} \u7C7B\u6587\u4EF6\u7ED3\u6784</h1><h2 id="_1-class-\u6587\u4EF6\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#_1-class-\u6587\u4EF6\u6982\u8FF0" aria-hidden="true">#</a> 1. Class \u6587\u4EF6\u6982\u8FF0</h2><ul><li><p>Class \u6587\u4EF6\u662F\u4E00\u7EC4\u4EE5\u5B57\u8282\u4E3A\u57FA\u7840\u5355\u4F4D\u7684\u4E8C\u8FDB\u5236\u6D41</p><ul><li>\u6211\u4EEC\u4FD7\u79F0\u7684 <strong>\u5B57\u8282\u7801</strong> \u6307\u7684\u662F \u65B9\u6CD5\u8868\u4E2D\u7684 <code>Code</code> \u5C5E\u6027\u7684\u5185\u5BB9</li></ul></li><li><p>Class \u6587\u4EF6\u683C\u5F0F\uFF1A</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ClassFile</span> <span class="token punctuation">{</span>
    u4             magic<span class="token punctuation">;</span> <span class="token comment">//Class \u6587\u4EF6\u7684\u6807\u5FD7</span>
    u2             minor_version<span class="token punctuation">;</span><span class="token comment">//Class \u7684\u5C0F\u7248\u672C\u53F7</span>
    u2             major_version<span class="token punctuation">;</span><span class="token comment">//Class \u7684\u5927\u7248\u672C\u53F7</span>
    u2             constant_pool_count<span class="token punctuation">;</span><span class="token comment">//\u5E38\u91CF\u6C60\u7684\u6570\u91CF</span>
    cp_info        constant_pool<span class="token punctuation">[</span>constant_pool_count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//\u5E38\u91CF\u6C60</span>
    u2             access_flags<span class="token punctuation">;</span><span class="token comment">//Class \u7684\u8BBF\u95EE\u6807\u8BB0</span>
    u2             this_class<span class="token punctuation">;</span><span class="token comment">//\u5F53\u524D\u7C7B</span>
    u2             super_class<span class="token punctuation">;</span><span class="token comment">//\u7236\u7C7B</span>
    u2             interfaces_count<span class="token punctuation">;</span><span class="token comment">//\u63A5\u53E3</span>
    u2             interfaces<span class="token punctuation">[</span>interfaces_count<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//\u4E00\u4E2A\u7C7B\u53EF\u4EE5\u5B9E\u73B0\u591A\u4E2A\u63A5\u53E3</span>
    u2             fields_count<span class="token punctuation">;</span><span class="token comment">//Class \u6587\u4EF6\u7684\u5B57\u6BB5\u5C5E\u6027</span>
    field_info     fields<span class="token punctuation">[</span>fields_count<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//\u4E00\u4E2A\u7C7B\u53EF\u4EE5\u6709\u591A\u4E2A\u5B57\u6BB5</span>
    u2             methods_count<span class="token punctuation">;</span><span class="token comment">//Class \u6587\u4EF6\u7684\u65B9\u6CD5\u6570\u91CF</span>
    method_info    methods<span class="token punctuation">[</span>methods_count<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//\u4E00\u4E2A\u7C7B\u53EF\u4EE5\u6709\u4E2A\u591A\u4E2A\u65B9\u6CD5</span>
    u2             attributes_count<span class="token punctuation">;</span><span class="token comment">//\u6B64\u7C7B\u7684\u5C5E\u6027\u8868\u4E2D\u7684\u5C5E\u6027\u6570</span>
    attribute_info attributes<span class="token punctuation">[</span>attributes_count<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//\u5C5E\u6027\u8868\u96C6\u5408</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6570\u636E\u7C7B\u578B\uFF1A <ul><li>\u65E0\u7B26\u53F7\u6570 <ul><li><code>u1</code> : 1 \u4E2A\u5B57\u8282\u7684\u65E0\u7B26\u53F7\u6570</li><li><code>u2</code> : 2 \u4E2A\u5B57\u8282\u7684\u65E0\u7B26\u53F7\u6570</li><li><code>u4</code></li><li><code>u8</code></li></ul></li><li>\u8868 <ul><li>\u7531 \u591A\u4E2A \u65E0\u7B26\u53F7\u6570 + \u8868 \u7EC4\u6210\u7684\u7B26\u5408\u6570\u636E\u7ED3\u6784</li><li>\u4EE5 <code>_info</code> \u7ED3\u5C3E</li><li>\u7D27\u8DDF\u7740\u8868\u6570\u636E\u4E4B\u524D\u4F1A\u4F7F\u7528\u4E00\u4E2A\u524D\u7F6E\u7684\u5BB9\u91CF\u8BA1\u6570\u5668\u6765\u8BB0\u5F55\u8868\u4E2D\u5143\u7D20\u7684\u4E2A\u6570</li></ul></li></ul></li></ul><table><thead><tr><th>\u540D\u79F0</th><th>2 \u5B57\u8282</th><th>2 \u5B57\u8282</th></tr></thead><tbody><tr><td><strong>\u9B54\u6570</strong></td><td><code>CA FE </code></td><td><code>BA BE </code></td></tr><tr><td><strong>\u6B21 &amp; \u4E3B\u7248\u672C\u53F7</strong></td><td>00 00</td><td>00 34</td></tr><tr><td><strong>\u5E38\u91CF\u6C60</strong></td><td>00 04</td><td>\u5E38\u91CF 1</td></tr><tr><td></td><td>\u5E38\u91CF 2</td><td>\u5E38\u91CF 3</td></tr><tr><td><strong>\u8BBF\u95EE\u6807\u5FD7</strong></td><td>\u5E38\u91CF 4</td><td>access flags</td></tr><tr><td><strong>\u7C7B</strong></td><td>\u5F53\u524D\u7C7B\u5E38\u91CF\u6C60\u7D22\u5F15</td><td>\u7236\u7C7B\u5E38\u91CF\u6C60\u7D22\u5F15</td></tr><tr><td><strong>\u63A5\u53E3</strong></td><td>00 03</td><td>\u63A5\u53E3 1</td></tr><tr><td></td><td>\u63A5\u53E3 2</td><td>\u63A5\u53E3 3</td></tr><tr><td><strong>\u5B57\u6BB5</strong></td><td>00 03</td><td>\u5B57\u6BB5 1</td></tr><tr><td></td><td>\u5B57\u6BB5 2</td><td>\u5B57\u6BB5 3</td></tr><tr><td><strong>\u65B9\u6CD5</strong></td><td>00 03</td><td>\u65B9\u6CD5 1</td></tr><tr><td></td><td>\u65B9\u6CD5 2</td><td>\u65B9\u6CD5 3</td></tr><tr><td><strong>\u5C5E\u6027</strong></td><td>00 03</td><td>\u5C5E\u6027 1</td></tr><tr><td></td><td>\u5C5E\u6027 2</td><td>\u5C5E\u6027 3</td></tr></tbody></table><hr><h2 id="_2-\u9B54\u6570" tabindex="-1"><a class="header-anchor" href="#_2-\u9B54\u6570" aria-hidden="true">#</a> 2. \u9B54\u6570</h2><ul><li>\u56FA\u5B9A\u503C <ul><li><code>CA FE BA BE</code></li></ul></li><li>\u4F5C\u7528 <ul><li>\u786E\u5B9A\u8BE5\u6587\u4EF6\u662F\u5426\u662F\u4E00\u4E2A\u80FD\u88AB\u865A\u62DF\u673A\u63A5\u53D7\u7684 Class \u6587\u4EF6</li></ul></li></ul><hr><h2 id="_3-\u7248\u672C\u53F7" tabindex="-1"><a class="header-anchor" href="#_3-\u7248\u672C\u53F7" aria-hidden="true">#</a> 3. \u7248\u672C\u53F7</h2><h3 id="_1-\u6B21\u7248\u672C\u53F7" tabindex="-1"><a class="header-anchor" href="#_1-\u6B21\u7248\u672C\u53F7" aria-hidden="true">#</a> 1) \u6B21\u7248\u672C\u53F7</h3><ul><li>JDK 1.2 \u4E4B\u540E - JDK 12 \u4E4B\u524D\u56FA\u5B9A\u4E3A 0</li><li><code>JDK 12</code> \u6B21\u7248\u672C\u53F7\u82E5 == <code>65535</code> \u8BF4\u660E\u4E3A\u516C\u6D4B\u7248\u672C\uFF0C\u5E76\u672A\u5217\u5165\u6B63\u5F0F\u7279\u6027\u6E05\u5355</li></ul><h3 id="_2-\u4E3B\u7248\u672C\u53F7" tabindex="-1"><a class="header-anchor" href="#_2-\u4E3B\u7248\u672C\u53F7" aria-hidden="true">#</a> 2) \u4E3B\u7248\u672C\u53F7</h3><ul><li>JDK 8 == 52 \u8F6C\u4E3A 16\u8FDB\u5236 == 34</li><li>\u4F9D\u6B21\u9012\u589E</li></ul><hr><h2 id="_4-\u5E38\u91CF\u6C60" tabindex="-1"><a class="header-anchor" href="#_4-\u5E38\u91CF\u6C60" aria-hidden="true">#</a> 4. \u5E38\u91CF\u6C60</h2><ul><li>\u5E38\u91CF\u6570 count <ul><li><code>u2</code> 16\u8FDB\u5236</li></ul></li><li>\u5E38\u91CF <ul><li>\u4E0B\u6807\u4ECE [1] - [count]</li><li>len = count</li><li>\u6700\u540E\u4E00\u4F4D\u4E0B\u6807 == len - 1 = count - 1</li><li>long &amp; double \u5360\u7528 2 \u4E2A\u4E0B\u6807\u4F4D\u7F6E</li></ul></li><li>\u5B58\u653E\u5E38\u91CF\u7C7B\u578B\uFF1A <ul><li><strong>\u5B57\u9762\u91CF</strong>\uFF1A <ul><li>\u6587\u672C\u5B57\u7B26\u4E32</li><li>\u88AB\u58F0\u660E\u4E3A final \u7684\u5E38\u91CF\u7B49</li></ul></li><li><strong>\u7B26\u53F7\u5F15\u7528</strong>\uFF1A <ul><li>\u5305</li><li>\u7C7B &amp; \u63A5\u53E3\u7684\u5168\u9650\u5B9A\u540D</li><li>\u5B57\u6BB5\u7684\u540D\u79F0 &amp; \u63CF\u8FF0\u7B26</li><li>\u65B9\u6CD5\u7684\u540D\u79F0 &amp; \u63CF\u8FF0\u7B26</li><li>\u65B9\u6CD5\u53E5\u67C4 &amp; \u65B9\u6CD5\u7C7B\u578B</li><li>\u52A8\u6001\u8C03\u7528\u70B9 &amp; \u52A8\u6001\u5E38\u91CF</li></ul></li></ul></li></ul><hr><h2 id="_5-\u8BBF\u95EE\u6807\u5FD7" tabindex="-1"><a class="header-anchor" href="#_5-\u8BBF\u95EE\u6807\u5FD7" aria-hidden="true">#</a> 5. \u8BBF\u95EE\u6807\u5FD7</h2><ul><li>\u7528\u4E8E\u8BC6\u522B\u7C7B &amp; \u63A5\u53E3\u5C42\u6B21\u7684\u8BBF\u95EE\u4FE1\u606F</li><li>\u4E3E\u4F8B <ul><li><code>ACC_PUBLIC</code></li><li><code>ACC_FINAL</code></li><li><code>ACC_INTERFACE</code></li><li><code>ACC_ABSTRACT</code></li><li><code>ACC_ANNOTATION</code></li><li><code>ACC_ENUM</code></li><li><code>ACC_MODULE</code></li></ul></li></ul><hr><h2 id="_6-\u5F53\u524D\u7C7B-\u7236\u7C7B" tabindex="-1"><a class="header-anchor" href="#_6-\u5F53\u524D\u7C7B-\u7236\u7C7B" aria-hidden="true">#</a> 6. \u5F53\u524D\u7C7B &amp; \u7236\u7C7B</h2><ul><li>\u901A\u8FC7\u5F53\u524D\u7C7B | \u7236\u7C7B\u7684\u503C\u786E\u5B9A\u5BF9\u5E94\u5E38\u91CF\u6C60\u7684\u4E0B\u6807</li><li>\u901A\u8FC7\u5E38\u91CF\u6C60\u4E0B\u6807\u627E\u5230\u8BE5\u5E38\u91CF</li><li>\u901A\u8FC7\u8BE5\u5E38\u91CF\u5185\u90E8\u7684\u7D22\u5F15\u627E\u5230\u5BF9\u5E94\u7C7B\u7684\u5168\u9650\u5B9A\u540D</li></ul><ol><li>\u9664\u4E86 <code>java.lang.Object</code> \u5916\uFF0C\u6240\u6709 Java \u7C7B\u5747\u6709\u7236\u7C7B\uFF0C\u56E0\u6B64\u7236\u7C7B\u7D22\u5F15 != 0</li></ol><hr><h2 id="_7-\u5B57\u6BB5-\u65B9\u6CD5-\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#_7-\u5B57\u6BB5-\u65B9\u6CD5-\u5C5E\u6027" aria-hidden="true">#</a> 7. \u5B57\u6BB5 &amp; \u65B9\u6CD5 &amp; \u5C5E\u6027</h2><ol><li>\u5747\u901A\u8FC7 <strong>\u8BA1\u6570\u5668 + \u8868\u5185\u5BB9</strong> \u5F62\u5F0F\u8868\u793A</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span>
    u2 fields_count<span class="token punctuation">;</span>
    field_info fields<span class="token punctuation">[</span>fields_count<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u5177\u4F53\u5185\u5BB9\u5F62\u5F0F\u7C7B\u4F3C\u5982\u4E0B</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">{</span>
    u2 access_flags<span class="token punctuation">;</span> <span class="token comment">// \u8BBF\u95EE\u6807\u5FD7</span>
    u2 name_index<span class="token punctuation">;</span> <span class="token comment">// \u540D\u79F0\u5728\u5E38\u91CF\u6C60\u4E2D\u7684\u7D22\u5F15</span>
    u2 descriptor_index<span class="token punctuation">;</span> <span class="token comment">// \u7C7B\u578B\u5728\u5E38\u91CF\u6C60\u4E2D\u7684\u7D22\u5F15</span>
    u2 attributes_count<span class="token punctuation">;</span> <span class="token comment">// \u5C5E\u6027\u4E2A\u6570</span>
    attribute_info attributes<span class="token punctuation">[</span>attributes_count<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// \u5C5E\u6027\u9879\u96C6\u5408</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u5C5E\u6027\u8868</li></ol><ul><li>\u5B57\u6BB5\u8868\u4E2D\u7684\u5C5E\u6027\u8868 <ul><li>\u8BB0\u5F55\u7684\u662F\u5B57\u6BB5\u662F\u5426\u4E3A\u5E38\u91CF\u3001\u5B57\u6BB5\u4E0A\u662F\u5426\u6709\u6CE8\u89E3\u7B49\u4FE1\u606F</li></ul></li><li>\u65B9\u6CD5\u8868\u4E2D\u7684\u5C5E\u6027\u8868 <ul><li>\u8BB0\u5F55\u4E86\u65B9\u6CD5\u4E0A\u662F\u5426\u6709\u6CE8\u89E3\u3001\u65B9\u6CD5\u7684\u5F02\u5E38\u4FE1\u606F\u58F0\u660E\u3001\u5B57\u8282\u7801\u7B49\u4FE1\u606F</li></ul></li><li>Class \u6587\u4EF6\u7684\u5C5E\u6027\u8868 <ul><li>\u8BB0\u5F55\u4E86\u7C7B\u7684\u6E90\u6587\u4EF6\u540D\u79F0\u3001\u7C7B\u4E0A\u6807\u8BB0\u7684\u6CE8\u89E3\u4FE1\u606F\u3001\u5185\u90E8\u7C7B\u7B49\u4FE1\u606F</li></ul></li></ul><ol start="4"><li>\u65B9\u6CD5\u8868\u4E2D\u7684 \u65B9\u6CD5\u5185\u5BB9 \u4E2D\u7684 <code>attribute_info</code> \u4E2D\u6709\u4E00\u9879\u5C5E\u6027\u4E3A Code</li></ol><ul><li><code>Code</code> \u5C31\u662F \u6211\u4EEC\u4FD7\u79F0\u7684 <strong>\u5B57\u8282\u7801</strong></li><li>\u56E0\u6B64\uFF0C<code>\u5B57\u8282\u7801\u662FClass\u6587\u4EF6\u7684\u4E00\u90E8\u5206</code></li></ul>`,35),e=[i];function o(c,d){return s(),a("div",null,e)}var r=n(l,[["render",o],["__file","\u516D\u3001\u7C7B\u6587\u4EF6\u7ED3\u6784.html.vue"]]);export{r as default};
