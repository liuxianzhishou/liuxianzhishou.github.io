import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{r as t,o as p,c as o,b as c,a as n,d as a,e as i}from"./app.5aebcaaa.js";const l={},u=n("h1",{id:"bean",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bean","aria-hidden":"true"},"#"),a(" \u{1F439} bean")],-1),r=n("h2",{id:"_1-bean-\u751F\u547D\u5468\u671F",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-bean-\u751F\u547D\u5468\u671F","aria-hidden":"true"},"#"),a(" 1. bean \u751F\u547D\u5468\u671F")],-1),d=n("blockquote",null,[n("p",null,"\u5B58\u5728\u4E8E BeanFactory \u7684\u7C7B\u6CE8\u91CA\u4E2D")],-1),k=i(`<hr><h2 id="_2-\u6848\u4F8B\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#_2-\u6848\u4F8B\u5C55\u793A" aria-hidden="true">#</a> 2. \u6848\u4F8B\u5C55\u793A</h2><ul><li><strong>\u5B9E\u4F8B\u5316</strong> \u4F53\u73B0\u5728 <code>\u6784\u9020\u51FD\u6570</code></li><li><strong>\u5C5E\u6027\u8D4B\u503C</strong> \u4F53\u73B0\u5728 <code>setter()</code></li><li>\u8981\u60F3\u5B9E\u73B0 <code>xxxAware</code> \u63A5\u53E3\u7684\u65B9\u6CD5\uFF0C\u53EA\u9700\u8981 <code>implements xxxAware</code>\u7136\u540E\u91CD\u5199\u63A5\u53E3\u63D0\u4F9B\u7684\u65B9\u6CD5\u5373\u53EF</li><li>\u8981\u60F3\u5B9E\u73B0 <code>BeanPostProcessor</code> \u7684\u65B9\u6CD5\uFF0C\u9700\u8981\u5355\u72EC\u5B9A\u4E49\u7C7B\u5B9E\u73B0\u8BE5\u63A5\u53E3\uFF0C\u91CD\u5199\u5176\u65B9\u6CD5\u5373\u53EF\u81EA\u52A8\u8C03\u7528</li></ul><h3 id="_1-\u5B9A\u4E49-bean-\u7C7B" tabindex="-1"><a class="header-anchor" href="#_1-\u5B9A\u4E49-bean-\u7C7B" aria-hidden="true">#</a> 1) \u5B9A\u4E49 bean \u7C7B</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonBean</span> <span class="token keyword">implements</span> <span class="token class-name">InitializingBean</span><span class="token punctuation">,</span> <span class="token class-name">BeanFactoryAware</span><span class="token punctuation">,</span> <span class="token class-name">BeanNameAware</span><span class="token punctuation">,</span> <span class="token class-name">DisposableBean</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C5E\u6027</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">// \u6784\u9020\u51FD\u6570</span>
    <span class="token keyword">public</span> <span class="token class-name">PersonBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1. \u5B9E\u4F8B\u5316&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// getter() &amp;&amp; setter()</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;2. \u5C5E\u6027\u8D4B\u503C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanName</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;3. \u8C03\u7528 BeanNameAware#setBeanName \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">BeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;4. \u8C03\u7528 BeanFactoryAware#setBeanFactory \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;6. InitializingBean#afterPropertiesSet \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;7. \u81EA\u5B9A\u4E49 init \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;9. DisposableBean#destroy \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroyMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;10. \u81EA\u5B9A\u4E49destroy \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bean \u4F7F\u7528\u4E2D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-mybeanpostprocessor" tabindex="-1"><a class="header-anchor" href="#_2-mybeanpostprocessor" aria-hidden="true">#</a> 2) MyBeanPostProcessor</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5. BeanPostProcessor.postProcessBeforeInitialization \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;8. BeanPostProcessor#postProcessAfterInitialization \u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-xml-\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-xml-\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 3) xml \u914D\u7F6E\u6587\u4EF6</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myBeanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.spring.life.MyBeanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>personBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.spring.life.PersonBean<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroyMethod<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>liuxianzhishou<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_4-\u6D4B\u8BD5" aria-hidden="true">#</a> 4) \u6D4B\u8BD5</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PersonBean</span> personBean <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">PersonBean</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;personBean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        personBean<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">)</span> context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_3-bean-\u5B9A\u4E49-\u4F9D\u8D56\u5B9A\u4E49-\u7684\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3-bean-\u5B9A\u4E49-\u4F9D\u8D56\u5B9A\u4E49-\u7684\u65B9\u5F0F" aria-hidden="true">#</a> 3. bean \u5B9A\u4E49 &amp; \u4F9D\u8D56\u5B9A\u4E49 \u7684\u65B9\u5F0F\uFF1F</h2><h3 id="_1-\u76F4\u63A5\u7F16\u7801" tabindex="-1"><a class="header-anchor" href="#_1-\u76F4\u63A5\u7F16\u7801" aria-hidden="true">#</a> 1) \u76F4\u63A5\u7F16\u7801</h3><ul><li>\u6211\u4EEC\u4E00\u822C\u63A5\u89E6\u4E0D\u5230 \u76F4\u63A5\u7F16\u7801 \u65B9\u5F0F\uFF0C\u4F46 \u5176\u4ED6\u65B9\u5F0F \u6700\u7EC8\u90FD\u662F\u901A\u8FC7 \u8BE5\u65B9\u5F0F\u5B9E\u73B0</li></ul><h3 id="_2-\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2) \u914D\u7F6E\u6587\u4EF6</h3><ul><li>\u901A\u8FC7 xml | properties \u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u914D\u7F6E\u76F8\u5E94\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0CSpring \u5C31\u53EF\u4EE5\u901A\u8FC7\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\uFF0C\u4ECE\u800C\u5B9E\u73B0 \u4F9D\u8D56\u5173\u7CFB \u7684\u6CE8\u5165</li></ul><h3 id="_3-\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_3-\u6CE8\u89E3" aria-hidden="true">#</a> 3) \u6CE8\u89E3</h3><ul><li>\u6211\u4EEC\u5E73\u65F6\u4F7F\u7528\u6700\u591A\u7684\u65B9\u5F0F</li><li>\u5728\u76F8\u5E94\u5730\u65B9\u4F7F\u7528 \u6CE8\u89E3\u4FEE\u9970\uFF0CSpring \u5C31\u4F1A\u626B\u63CF\u6CE8\u89E3\uFF0C\u4ECE\u800C\u5B9E\u73B0 bean &amp; \u4F9D\u8D56\u5173\u7CFB \u7684\u6CE8\u5165</li></ul><hr><h2 id="_4-bean-\u7684\u521B\u5EFA-\u4E0E-\u6CE8\u5165\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_4-bean-\u7684\u521B\u5EFA-\u4E0E-\u6CE8\u5165\u65B9\u5F0F" aria-hidden="true">#</a> 4. bean \u7684\u521B\u5EFA \u4E0E \u6CE8\u5165\u65B9\u5F0F\uFF1F</h2><h3 id="_1-bean-\u7684\u521B\u5EFA" tabindex="-1"><a class="header-anchor" href="#_1-bean-\u7684\u521B\u5EFA" aria-hidden="true">#</a> 1) bean \u7684\u521B\u5EFA</h3><ol><li><strong>\u6784\u9020\u5668\u521B\u5EFA</strong></li><li><strong>\u9759\u6001\u5DE5\u5382\u521B\u5EFA</strong></li><li><strong>\u5B9E\u4F8B\u5DE5\u5382\u521B\u5EFA</strong></li></ol><h3 id="_2-bean-\u7684\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#_2-bean-\u7684\u6CE8\u5165" aria-hidden="true">#</a> 2) bean \u7684\u6CE8\u5165</h3><ol><li><strong>\u6784\u9020\u5668\u6CE8\u5165</strong></li><li><strong>\u5C5E\u6027\u6CE8\u5165</strong></li><li><strong>setter \u6CE8\u5165</strong></li></ol><hr><h2 id="_5-bean-\u7684\u81EA\u52A8\u88C5\u914D" tabindex="-1"><a class="header-anchor" href="#_5-bean-\u7684\u81EA\u52A8\u88C5\u914D" aria-hidden="true">#</a> 5. bean \u7684\u81EA\u52A8\u88C5\u914D</h2><h3 id="_1-\u81EA\u52A8\u88C5\u914D\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1-\u81EA\u52A8\u88C5\u914D\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1) \u81EA\u52A8\u88C5\u914D\u662F\u4EC0\u4E48\uFF1F</h3><ul><li>\u6211\u4EEC\u901A\u8FC7 \u67D0\u79CD\u89C4\u5219 \u5411 Spring \u5BB9\u5668\u544A\u77E5\u60F3\u8981\u7684 bean</li><li>Spring \u5BB9\u5668\u6839\u636E\u6211\u4EEC\u7684\u8981\u6C42\u5BF9\u5BB9\u5668\u4E2D\u7684 bean \u8FDB\u884C \u81EA\u52A8\u88C5\u914D\uFF0C\u800C\u65E0\u9700\u901A\u8FC7\u663E\u5F0F\u7684\u65B9\u5F0F\u8FDB\u884C\u4F9D\u8D56\u914D\u7F6E</li></ul><h3 id="_2-spring-\u63D0\u4F9B\u7684\u81EA\u52A8\u88C5\u914D\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_2-spring-\u63D0\u4F9B\u7684\u81EA\u52A8\u88C5\u914D\u7C7B\u578B" aria-hidden="true">#</a> 2) Spring \u63D0\u4F9B\u7684\u81EA\u52A8\u88C5\u914D\u7C7B\u578B</h3><ol><li><code>byName</code><ul><li>\u901A\u8FC7 \u540D\u79F0 \u8FDB\u884C\u81EA\u52A8\u88C5\u914D</li></ul></li><li><code>byType</code><ul><li>\u901A\u8FC7 \u7C7B\u578B \u8FDB\u884C\u81EA\u52A8\u88C5\u914D</li></ul></li><li><code>constructor</code><ul><li>\u4E0E <code>byType</code> \u7C7B\u4F3C\uFF0C\u4F46\u5B83\u662F\u9488\u5BF9 \u6784\u9020\u51FD\u6570 \u6CE8\u5165</li></ul></li><li><code>autodetect</code><ul><li>\u6839\u636E Bean \u7684\u81EA\u7701\u673A\u5236\u51B3\u5B9A\u5230\u5E95\u91C7\u7528 <code>byType</code> \u8FD8\u662F <code>constructor</code> \u81EA\u52A8\u88C5\u914D</li></ul></li></ol><hr><h2 id="_6-bean-\u7684\u4F5C\u7528\u57DF" tabindex="-1"><a class="header-anchor" href="#_6-bean-\u7684\u4F5C\u7528\u57DF" aria-hidden="true">#</a> 6. bean \u7684\u4F5C\u7528\u57DF</h2><h3 id="_1-singleton" tabindex="-1"><a class="header-anchor" href="#_1-singleton" aria-hidden="true">#</a> 1) singleton</h3><ul><li>\u5355\u4F8B\u6A21\u5F0F \u5B58\u5728</li><li>bean \u9ED8\u8BA4\u4F5C\u7528\u57DF</li></ul><h3 id="_2-prototype" tabindex="-1"><a class="header-anchor" href="#_2-prototype" aria-hidden="true">#</a> 2) prototype</h3><ul><li>\u6BCF\u6B21\u4ECE \u5BB9\u5668 \u4E2D\u8C03\u7528 bean \u65F6\uFF0C\u90FD\u4F1A\u8FD4\u56DE\u4E00\u4E2A \u65B0\u7684 bean</li></ul><h3 id="_3-request" tabindex="-1"><a class="header-anchor" href="#_3-request" aria-hidden="true">#</a> 3) request</h3><ul><li>\u6BCF\u6B21 http \u8BF7\u6C42\u90FD\u4F1A\u4EA7\u751F\u4E00\u4E2A \u65B0\u7684 bean</li><li>\u8BE5 bean \u53EA\u5728\u5F53\u524D http request \u5185\u6709\u6548</li></ul><h3 id="_4-session" tabindex="-1"><a class="header-anchor" href="#_4-session" aria-hidden="true">#</a> 4) session</h3><ul><li>\u540C\u4E00\u4E2A http session \u5171\u4EAB\u4E00\u4E2A bean</li><li>\u4E0D\u540C http session \u4EA7\u751F\u4E0D\u540C bean</li></ul><h3 id="_5-globalsession" tabindex="-1"><a class="header-anchor" href="#_5-globalsession" aria-hidden="true">#</a> 5) globalSession</h3><ul><li>\u540C\u4E00\u4E2A\u5168\u5C40 session \u5171\u4EAB\u4E00\u4E2A bean</li><li>Spring 5 \u4E2D\u5DF2\u7ECF\u4E0D\u5B58\u5728</li></ul><hr><h2 id="_7-\u5355\u4F8B-bean" tabindex="-1"><a class="header-anchor" href="#_7-\u5355\u4F8B-bean" aria-hidden="true">#</a> 7. \u5355\u4F8B bean</h2><h3 id="_1-\u975E\u7EBF\u7A0B\u5B89\u5168" tabindex="-1"><a class="header-anchor" href="#_1-\u975E\u7EBF\u7A0B\u5B89\u5168" aria-hidden="true">#</a> 1) \u975E\u7EBF\u7A0B\u5B89\u5168</h3><h3 id="_2-\u5982\u4F55\u4FDD\u8BC1-\u5355\u4F8B-bean-\u7684\u7EBF\u7A0B\u5B89\u5168" tabindex="-1"><a class="header-anchor" href="#_2-\u5982\u4F55\u4FDD\u8BC1-\u5355\u4F8B-bean-\u7684\u7EBF\u7A0B\u5B89\u5168" aria-hidden="true">#</a> 2) \u5982\u4F55\u4FDD\u8BC1 \u5355\u4F8B bean \u7684\u7EBF\u7A0B\u5B89\u5168\uFF1F</h3><ol><li>\u5C06 bean \u8BBE\u7F6E\u4F5C\u7528\u57DF\u4E3A\u591A\u4F8B bean\uFF0C\u5728 \u7C7B\u4E0A\u6DFB\u52A0\u6CE8\u89E3 <code>@Scope(&quot;prototype&quot;)</code> | <code>@Scope(&quot;request&quot;)</code><ul><li>\u6BCF\u4E2A\u7EBF\u7A0B\u8BF7\u6C42\u5BF9\u5E94\u4E00\u4E2A bean\uFF0C\u4F46\u8FD9\u6837\u4E0D\u5229\u4E8E\u7BA1\u7406 bean</li></ul></li><li>\u5728 bean \u5BF9\u8C61\u4E2D\u5C3D\u91CF\u907F\u514D\u5B9A\u4E49\u53EF\u53D8\u7684\u6210\u5458\u53D8\u91CF\uFF0C\u4FDD\u8BC1\u591A\u7EBF\u7A0B\u4E0B\u8FD4\u56DE\u540C\u4E00\u4E2A\u7ED3\u679C</li><li>\u4F7F\u7528 JUC \u4E0B\u5E76\u53D1\u5B89\u5168\u7684\u6570\u636E\u7ED3\u6784</li><li>\u5C06 bean \u4E2D\u7684 \u6210\u5458\u53D8\u91CF \u4FDD\u5B58\u81F3 <code>ThreadLocal</code> \u4E2D <ul><li>\u53EF\u4EE5\u4FDD\u8BC1\u591A\u7EBF\u7A0B\u4E0B\u53D8\u91CF\u7684\u9694\u79BB</li><li>\u4F46\u7531\u4E8E web \u670D\u52A1\u5668\u9ED8\u8BA4\u7684\u8BF7\u6C42\u7EBF\u7A0B\u6C60\u4E3A 10\uFF0C\u7EBF\u7A0B\u4F1A\u670D\u7528\uFF0C\u56E0\u6B64\u53EA\u80FD\u4FDD\u8BC1\u5E76\u53D1\u4E0B 10 \u4E2A\u7EBF\u7A0B\u76F8\u4E92\u9694\u79BB\uFF0C\u8D85\u51FA\u8FD9\u4E2A\u60C5\u51B5\u540E\uFF0C\u591A\u4F59\u7EBF\u7A0B\u4F1A\u5206\u914D\u5230\u524D\u9762\u7684 10 \u4E2A\u7EBF\u7A0B\u4E2D</li><li>\u56E0\u6B64\uFF0C<code>ThreadLocal</code> \u672C\u8EAB\u53EF\u4EE5\u8D77\u5230\u7EBF\u7A0B\u9694\u79BB\u7684\u6548\u679C\uFF0C\u4F46\u662F web \u670D\u52A1\u5668\u8FBE\u4E0D\u5230\u5E76\u53D1\u5B89\u5168\u7684\u6548\u679C</li></ul></li><li>\u5206\u5E03\u5F0F | \u5FAE\u670D\u52A1\u4E0B\u7684\u5E76\u53D1\u5B89\u5168 <ul><li>\u501F\u52A9 Redis \u7B49\u4FDD\u8BC1\u540C\u4E00\u670D\u52A1\u4E0B\u7684\u4E0D\u540C\u5B9E\u4F8B\u62E5\u6709\u540C\u4E00\u4EFD\u5171\u4EAB\u4FE1\u606F</li></ul></li></ol>`,48);function m(v,b){const s=t("Mermaid");return p(),o("div",null,[u,r,d,c(s,{id:"mermaid-382ee146",code:"flowchart%20TB%0AAAAAA((%E5%BC%80%E5%A7%8B))%0Asubgraph%20one%5Bbean%20%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%5D%0A%20%20%20%20direction%20TB%0A%20%20%20%20AA%5BcreateBeanInstance%5D%0A%20%20%20%20BB%5BpopulateBean%5D%0A%20%20%20%20subgraph%20three%5BinitializeBean%5D%0A%20%20%20%20%20%20%20%20direction%20TB%0A%20%20%20%20%20%20%20%20%20subgraph%20ten%5BinvokeAwareMethods%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20direction%20TB%0A%20%20%20%20%20%20%20%20%20%20%20%20A%7B%7BBeanNameAware%20%5Cn%20setBeanName%20%5Cn%20%E8%AE%BE%E7%BD%AE%20bean%20%E5%90%8D%E7%A7%B0%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20B%7B%7BBeanClassLoaderAware%20%5Cn%20setBeanClassLoader%20%5Cn%20%E8%AE%BE%E7%BD%AE%20bean%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20C%7B%7BBeanFactoryAware%20%5Cn%20setBeanFactory%20%5Cn%20%E8%AE%BE%E7%BD%AE%20bean%20%E5%B7%A5%E5%8E%82%7D%7D%0A%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20subgraph%20eleven%5BapplyBeanPostProcessorsBeforeInitialization%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20direction%20TB%0A%20%20%20%20%20%20%20%20%20%20%20%20D%7B%7BEnvironmentAware%20%5Cn%20setEnvironment%20%5Cn%20%E8%AE%BE%E7%BD%AE%20bean%20%E7%8E%AF%E5%A2%83%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20E%7B%7BEmbeddedValueResolverAware%20%5Cn%20setEmbeddedValueResolver%20%5Cn%20%E8%AE%BE%E7%BD%AE%20bean%20%E5%80%BC%E7%9A%84%E5%9B%9E%E6%94%B6%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20F%7B%7BResourceLoaderAware%20%5Cn%20setResourceLoader%20%5Cn%20%E8%AE%BE%E7%BD%AE%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E5%99%A8%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20G%7B%7BApplicationEventPublisherAware%20%5Cn%20setApplicationEventPublisher%20%5Cn%20%E8%AE%BE%E7%BD%AE%20%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20H%7B%7BMessageSourceAware%20%5Cn%20setMessageSource%20%5Cn%20%E8%AE%BE%E7%BD%AE%20%E5%9B%BD%E9%99%85%E5%8C%96%E5%A4%84%E7%90%86%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20I%7B%7BApplicationStartupAware%20%5Cn%20setApplicationStartup%20%5Cn%20%E8%AE%BE%E7%BD%AE%20%E4%B8%8A%E4%B8%8B%E6%96%87%E5%90%AF%E5%8A%A8%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20J%7B%7BApplicationContextAware%20%5Cn%20setApplicationContext%20%5Cn%20%E8%AE%BE%E7%BD%AE%20%E5%BA%94%E7%94%A8%E4%B8%8A%E4%B8%8B%E6%96%87%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20K%7B%7BServletContextAware%20%5Cn%20setServletContext%20%5Cn%20%E8%AE%BE%E7%BD%AE%20servlet%20%E4%B8%8A%E4%B8%8B%E6%96%87%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20L%7B%7BServletConfigAware%20%5Cn%20setServletConfig%20%5Cn%20%E8%AE%BE%E7%BD%AE%20servlet%20%E9%85%8D%E7%BD%AE%7D%7D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20subgraph%20twelve%5BinvokeInitMethods%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20direction%20TB%0A%20%20%20%20%20%20%20%20%20%20%20%20BBB%5BInitializingBean%20%5Cn%20afterPropertiesSet%20%5Cn%20%E5%9C%A8%20bean%20%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%E5%80%BC%E8%AE%BE%E7%BD%AE%E4%B9%8B%E5%90%8E%2C%20%E5%9B%9E%E8%B0%83%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20CCC%5BinvokeCustomInitMethod%20%5Cn%20%E6%89%A7%E8%A1%8C%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%20init%20%E6%96%B9%E6%B3%95%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20subgraph%20thirteen%5BapplyBeanPostProcessorsAfterInitialization%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20DDD%5BBeanPostProcessor%20%5Cn%20postProcessAfterInitialization%20%5Cn%20bean%20%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%20%20%20%20CC%5B%E4%BD%BF%E7%94%A8%20bean%5D%0A%20%20%20%20subgraph%20five%5Bbean%20%E9%94%80%E6%AF%81%5D%0A%20%20%20%20%20%20%20%20direction%20TB%0A%20%20%20%20%20%20%20%20AAAA%7B%7BDisposableBean%20%5Cn%20destory%20%5Cn%20bean%20%E7%9A%84%E9%94%80%E6%AF%81%7D%7D%0A%20%20%20%20%20%20%20%20BBBB%7B%7B%E8%87%AA%E5%AE%9A%E4%B9%89%20destory%20%E6%96%B9%E6%B3%95%7D%7D%0A%20%20%20%20end%0Aend%0ABBBBB((%E7%BB%93%E6%9D%9F))%0A%0AAAAAA%20--%3E%20one%0Aone%20--%3E%20BBBBB%0AAA%20--%3E%20BB%0ABB%20--%3E%20three%0Athree%20--%3E%20CC%0ACC%20--%3E%20five%0A%0ABBB%20--%3E%20CCC%0ACCC%20--%3E%20DDD%0AA%20--%3E%20B%0AB%20--%3E%20C%0AC%20--%3E%20D%0AD%20--%3E%20E%0AE%20--%3E%20F%0AF%20--%3E%20G%0AG%20--%3E%20H%0AH%20--%3E%20I%0AI%20--%3E%20J%0AJ%20--%3E%20K%0AK%20--%3E%20L%0AL%20--%3E%20BBB%0AAAAA%20--%3E%20BBBB%0A"}),k])}var E=e(l,[["render",m],["__file","bean.html.vue"]]);export{E as default};
