import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";import{r as i,o as k,c as r,b as o,w as s,e as p,a as n,d as a}from"./app.5aebcaaa.js";const d={},m=p('<h1 id="mybatis-xml-\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#mybatis-xml-\u6620\u5C04" aria-hidden="true">#</a> \u{1F966} MyBatis xml \u6620\u5C04</h1><h2 id="_1-mapper-\u63A5\u53E3-\u6620\u5C04-xml" tabindex="-1"><a class="header-anchor" href="#_1-mapper-\u63A5\u53E3-\u6620\u5C04-xml" aria-hidden="true">#</a> 1. Mapper \u63A5\u53E3 \u6620\u5C04 xml</h2><h3 id="_1-\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_1-\u8FC7\u7A0B" aria-hidden="true">#</a> 1) \u8FC7\u7A0B</h3><ol><li><strong>\u89E3\u6790 xml \u5F97\u5230 MappedStatement \u5BF9\u8C61</strong><ul><li>MyBatis \u5728\u521D\u59CB\u5316 <code>SqlSessionFactoryBean</code> \u65F6\uFF0C\u4F1A\u627E\u5230 mapperLocations \u914D\u7F6E\u8DEF\u5F84\u4E0B\u7684\u6240\u6709 xml \u6587\u4EF6\u8FDB\u884C\u89E3\u6790</li><li>\u521B\u5EFA <code>SqlSource</code> \u5BF9\u8C61 <ul><li>MyBatis \u4F1A\u5C06\u6BCF\u4E2A sql \u6807\u7B7E\uFF0C\u4F8B\u5982 <code>&lt;select&gt;</code> <code>&lt;where&gt;</code> <code>&lt;if&gt;</code> \u7B49\uFF0C\u5C01\u88C5\u6210\u4E00\u4E2A SqlSource \u5BF9\u8C61</li></ul></li><li>\u521B\u5EFA <code>MappedStatement</code> \u5BF9\u8C61 <ul><li>MyBatis \u4F1A\u4E3A\u6BCF\u4E2A sql \u6807\u7B7E\uFF0C\u751F\u6210\u4E00\u4E2A MappedStatement \u5BF9\u8C61\uFF0C\u6DFB\u52A0\u5230 Configuration \u5B9E\u4F8B\u4E2D <ul><li>\u57FA\u4E8E <mark>\u7C7B\u7684\u5168\u9650\u5B9A\u540D(\u5BF9\u5E94 <code>&lt;mapper namespace = &quot;...&quot;&gt;</code>) + \u65B9\u6CD5\u540D(\u5BF9\u5E94 <code>&lt;select id = &quot;...&quot;&gt;</code>)</mark> &amp; SqlSource \u5BF9\u8C61 \u533A\u5206\u4E0D\u540C <code>MappedStatement</code> \u5BF9\u8C61</li></ul></li></ul></li></ul></li><li><strong>Mapper \u63A5\u53E3\u52A8\u6001\u4EE3\u7406 \u5F97\u5230 \u4EE3\u7406\u7C7B\uFF0C\u6267\u884C invoke()</strong><ul><li>\u57FA\u4E8E <code>@MapperScan(value = &quot;com.example.flow.mapper&quot;)</code> \u6CE8\u89E3\u6216 Spring \u7684 xml \u914D\u7F6E\u6587\u4EF6</li><li>\u5C06\u5305\u8DEF\u5F84\u4E0B\u7684\u6240\u6709\u7C7B\u6CE8\u518C\u5230 Spring bean \u4E2D\uFF0C\u5E76\u5C06\u5176 beanClass \u8BBE\u7F6E\u4E3A <code>MapperFactoryBean</code>\uFF0CMapperFactoryBean \u5B9E\u73B0\u4E86 <code>FactoryBean</code> \u63A5\u53E3</li><li>\u5F53\u6211\u4EEC\u901A\u8FC7 <code>@Autowired</code> \u6CE8\u89E3\u6CE8\u5165\u67D0\u4E2A Mapper \u63A5\u53E3\u65F6\uFF0C\u8FD4\u56DE\u7684\u5C31\u662F <code>MapperFactoryBean.getObject()</code> \u5BF9\u8C61</li><li>\u8FD9\u4E2A\u5BF9\u8C61\u901A\u8FC7 <mark>JDK \u52A8\u6001\u4EE3\u7406</mark>\uFF0C\u8FD4\u56DE\u4E86 Mapper \u63A5\u53E3\u7684\u4EE3\u7406\u5BF9\u8C61 <code>MapperProxy</code></li><li>\u5F53\u6211\u4EEC\u8C03\u7528 Mapper \u63A5\u53E3\u4E2D\u7684\u65B9\u6CD5\u65F6\uFF0C\u8FD4\u56DE\u7684\u5C31\u662F \u4EE3\u7406\u5BF9\u8C61 <code>MapperProxy</code> \u7684 <code>invoke()</code> \u65B9\u6CD5</li></ul></li><li><strong>invoke() \u8C03\u7528 SqlSession \u6267\u884C sql \u8BF7\u6C42</strong><ul><li><code>invoke()</code> \u65B9\u6CD5 \u5B9E\u9645\u8C03\u7528\u7684\u662F <code>SqlSession</code> \u4E2D\u7684\u65B9\u6CD5</li><li>\u901A\u8FC7 <strong>\u7C7B\u7684\u5168\u9650\u5B9A\u540D + \u65B9\u6CD5\u540D</strong>\uFF0C\u5F97\u5230 1. \u4E2D\u751F\u6210\u7684 <code>MappedStatement</code> \u5BF9\u8C61</li><li>\u7136\u540E\u901A\u8FC7 <code>Executor.query(MappedStatement ms)</code> \u7B49\u65B9\u6CD5\u6267\u884C\u5BF9\u5E94 sql \u8BF7\u6C42\uFF0C\u7136\u540E\u8FD4\u56DE\u7ED3\u679C</li></ul></li><li>\u8FD9\u91CC\u7528\u5230\u4E86 <mark>\u547D\u4EE4\u6A21\u5F0F</mark>\uFF0C\u6700\u7EC8\u901A\u8FC7 SqlSession \u5B9E\u4F8B\u53BB\u8FD0\u884C \u5BF9\u8C61\u7684 sql</li></ol><h3 id="_2-mapper-\u63A5\u53E3\u65B9\u6CD5\u662F\u5426\u53EF\u4EE5\u91CD\u8F7D" tabindex="-1"><a class="header-anchor" href="#_2-mapper-\u63A5\u53E3\u65B9\u6CD5\u662F\u5426\u53EF\u4EE5\u91CD\u8F7D" aria-hidden="true">#</a> 2) Mapper \u63A5\u53E3\u65B9\u6CD5\u662F\u5426\u53EF\u4EE5\u91CD\u8F7D</h3><ul><li>MyBatis \u901A\u8FC7 <mark>\u7C7B\u7684\u5168\u9650\u5B9A\u540D + \u65B9\u6CD5\u540D</mark> \u786E\u5B9A\u5177\u4F53\u5BF9\u5E94\u67D0\u4E2A\u65B9\u6CD5\uFF0C\u7136\u540E\u751F\u6210 key \u4F5C\u4E3A <code>MappedStatement</code> \u5BF9\u8C61\u7684 key \u503C\uFF0C\u5B58\u50A8\u5728 Configuration \u5B9E\u4F8B\u4E2D</li><li>\u65B9\u6CD5\u91CD\u8F7D\uFF0C \u8BF4\u660E <mark>\u7C7B\u7684\u5168\u9650\u5B9A\u540D + \u65B9\u6CD5\u540D</mark> \u76F8\u540C\uFF0C\u800C xml \u6587\u4EF6\u4E2D <mark>\u7C7B\u7684\u5168\u9650\u5B9A\u540D + \u65B9\u6CD5\u540D</mark> \u53EA\u80FD\u6709\u552F\u4E00\u4E00\u4E2A\uFF0C\u5373 key \u552F\u4E00</li><li>\u56E0\u6B64\u8981\u60F3\u5B9E\u73B0\u91CD\u8F7D\uFF0C\u5FC5\u987B\u4FDD\u8BC1\uFF0C\u591A\u4E2A\u91CD\u8F7D\u7684\u65B9\u6CD5\u80FD\u591F\u901A\u8FC7\u4E00\u6761 <code>&lt;select&gt;...&lt;/select&gt;</code> \u7B49\u6807\u7B7E\u5B9E\u73B0</li><li>\u4E3E\u4F8B\uFF1A</li></ul>',6),v=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token doc-comment comment"},`/**
 * Mapper\u63A5\u53E3\u91CC\u9762\u65B9\u6CD5\u91CD\u8F7D
 */`),a(`
`),n("span",{class:"token keyword"},"public"),a(),n("span",{class:"token keyword"},"interface"),a(),n("span",{class:"token class-name"},"TestMapper"),a(),n("span",{class:"token punctuation"},"{"),a(`

	`),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Author"),n("span",{class:"token punctuation"},">")]),a(),n("span",{class:"token function"},"getAuthor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

	`),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"Author"),n("span",{class:"token punctuation"},">")]),a(),n("span",{class:"token function"},"getAuthor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"id"'),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token class-name"},"Integer"),a(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[a("	"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("select")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("getAuthor"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"resultType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("com.example.entity.Author"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
 		select * from t_author
		`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("where")]),n("span",{class:"token punctuation"},">")]),a(`
			`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("id != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
				id = #{id}
			`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
		`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("where")]),n("span",{class:"token punctuation"},">")]),a(`
		limit 1
 	`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("select")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("hr",null,null,-1),h=n("h2",{id:"_2-xml-\u6587\u4EF6\u6620\u5C04",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-xml-\u6587\u4EF6\u6620\u5C04","aria-hidden":"true"},"#"),a(" 2. xml \u6587\u4EF6\u6620\u5C04")],-1),f=n("h3",{id:"_1-select",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-select","aria-hidden":"true"},"#"),a(" 1) select")],-1),q=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("select")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("selectPerson"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"parameterType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("int"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"resultType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("hashmap"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  SELECT * FROM PERSON WHERE ID = #{id}
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("select")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),_=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token comment"},"<!--# MyBatis \u53EF\u901A\u8FC7 TypeHandler \u63A8\u65AD\u51FA\u5177\u4F53\u4F20\u5165\u8BED\u53E5\u7684\u53C2\u6570-->"),a(`
`),n("span",{class:"token comment"},"<!--# \u5E9F\u5F03-->"),a(`
`),n("span",{class:"token comment"},"<!--# \u82E5\u8FD4\u56DE\u7684\u662F\u96C6\u5408\uFF0C\u90A3\u4E48\u5E94\u8BE5\u4E3A \u96C6\u5408\u4E2D\u5143\u7D20\u7684\u6570\u636E\u7ED3\u6784-->"),a(`
`),n("span",{class:"token comment"},"<!--# resultType & resultMap \u53EA\u80FD\u540C\u65F6\u4F7F\u7528\u4E00\u4E2A-->"),a(`
`),n("span",{class:"token comment"},"<!--# default = false\uFF0C\u8868\u793A\u4E0D\u6E05\u7A7A\u672C\u5730\u7F13\u5B58 & \u4E8C\u7EA7\u7F13\u5B58\uFF1B\u5426\u5219\uFF0C\u60C5\u51B5-->"),a(`
`),n("span",{class:"token comment"},"<!--# \u9488\u5BF9 select \u8BED\u53E5\uFF0Cdefault = true\uFF0C\u8868\u793A\u672C\u6761\u8BED\u53E5\u7ED3\u679C\u4F1A\u88AB \u4E8C\u7EA7\u7F13\u5B58 \u7F13\u5B58-->"),a(`
`),n("span",{class:"token comment"},"<!--# default = \u672A\u8BBE\u7F6E\uFF0C\u4F9D\u8D56\u6570\u636E\u5E93\u9A71\u52A8\uFF1B\u82E5\u8BBE\u7F6E\u503C\uFF0C\u5219\u5728\u629B\u51FA\u5F02\u5E38\u4E4B\u524D\uFF0C\u9A71\u52A8\u7A0B\u5E8F\u7B49\u5F85\u6570\u636E\u5E93\u8FD4\u56DE\u8BF7\u6C42\u7ED3\u679C\u7684 \u79D2\u6570-->"),a(`
`),n("span",{class:"token comment"},"<!--# default = \u672A\u8BBE\u7F6E\uFF0C\u4F9D\u8D56\u6570\u636E\u5E93\u9A71\u52A8\uFF1B\u82E5\u8BBE\u7F6E\u503C\uFF0C\u5C1D\u8BD5\u8BA9\u9A71\u52A8\u7A0B\u5E8F\u6BCF\u6B21\u6279\u91CF\u8FD4\u56DE\u7ED3\u679C\u7684\u884C\u6570 == \u8BE5\u503C-->"),a(`
`),n("span",{class:"token comment"},"<!--# default = prepared\uFF0C\u6709 statement, prepared, callable \u4E09\u79CD\u65B9\u5F0F-->"),a(`
`),n("span",{class:"token comment"},"<!--# default = \u672A\u8BBE\u7F6E\uFF0C\u4F9D\u8D56\u6570\u636E\u5E93\u9A71\u52A8-->"),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("select")]),a(`
`),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("selectPerson"),n("span",{class:"token punctuation"},'"')]),a(`
`),n("span",{class:"token attr-name"},"parameterType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("int"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"parameterMap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("deprecated"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"resultType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("hashmap"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"resultMap"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("personResultMap"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"flushCache"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("false"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"useCache"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("true"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"timeout"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("10"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"fetchSize"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("256"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"statementType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("PREPARED"),n("span",{class:"token punctuation"},'"')]),a(` 
`),n("span",{class:"token attr-name"},"resultSetType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("FORWARD_ONLY"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token punctuation"},">")]),a(`
SELECT * FROM PERSON WHERE ID = #{id}
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("select")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),x=n("h3",{id:"_2-insert-update-delete",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-insert-update-delete","aria-hidden":"true"},"#"),a(" 2) insert & update & delete")],-1),y=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),a(),n("span",{class:"token keyword"},"interface"),a(" xxxMapper "),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token keyword"},"int"),a(),n("span",{class:"token function"},"insertAuthor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Author"),a(" auth"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    
    `),n("span",{class:"token keyword"},"int"),a(),n("span",{class:"token function"},"updateAuthor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Author"),a(" auth"),n("span",{class:"token punctuation"},";"),a(`
    
    `),n("span",{class:"token keyword"},"int"),a(),n("span",{class:"token function"},"deleteAuthor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Long"),a(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[a(`// \u81EA\u52A8\u5C06 Author \u5BF9\u8C61\u7684\u5C5E\u6027\u5339\u914D\u5230\u5BF9\u5E94\u4F4D\u7F6E
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("insert")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("insertAuthor"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  insert into Author (id,username,password,email,bio)
  values (#{id},#{username},#{password},#{email},#{bio})
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("insert")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("update")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("updateAuthor"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  update Author set
    username = #{username},
    password = #{password},
    email = #{email},
    bio = #{bio}
  where id = #{id}
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("update")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("delete")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("deleteAuthor"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  delete from Author where id = #{id}
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("delete")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),A=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token comment"},"<!--# \u4EC5\u9002\u7528\u4E8E insert & update\uFF0C\u6307\u5B9A\u80FD\u591F\u552F\u4E00\u8BC6\u522B\u5BF9\u8C61\u7684\u5C5E\u6027-->"),a(`
`),n("span",{class:"token comment"},"<!--# \u4EC5\u9002\u7528\u4E8E insert & update\uFF0C\u8BBE\u7F6E\u751F\u6210\u952E\u5728\u8868\u4E2D\u7684 \u5217\u660E-->"),a(`
`),n("span",{class:"token comment"},"<!--# \u4EC5\u9002\u7528\u4E8E insert & update\uFF0C\u4EE4 MyBatis \u4F7F\u7528 JDBC \u7684 fetGeneratedKeys() \u53BB\u91CD\u6570\u636E\u5E93\u81EA\u52A8\u751F\u6210\u7684\u4E3B\u952E-->"),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("insert")]),a(`
  `),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("insertAuthor"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"parameterType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("domain.blog.Author"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"flushCache"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("true"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"statementType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("PREPARED"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"keyProperty"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token punctuation"},'"')]),a(` 
  `),n("span",{class:"token attr-name"},"keyColumn"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token punctuation"},'"')]),a(` 
  `),n("span",{class:"token attr-name"},"useGeneratedKeys"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token punctuation"},'"')]),a(` 
  `),n("span",{class:"token attr-name"},"timeout"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("20"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("update")]),a(`
  `),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("updateAuthor"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"parameterType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("domain.blog.Author"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"flushCache"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("true"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"statementType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("PREPARED"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"timeout"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("20"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("delete")]),a(`
  `),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("deleteAuthor"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"parameterType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("domain.blog.Author"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"flushCache"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("true"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"statementType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("PREPARED"),n("span",{class:"token punctuation"},'"')]),a(`
  `),n("span",{class:"token attr-name"},"timeout"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("20"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),w=p(`<hr><h2 id="_3-\u52A8\u6001-sql" tabindex="-1"><a class="header-anchor" href="#_3-\u52A8\u6001-sql" aria-hidden="true">#</a> 3. \u52A8\u6001 SQL</h2><ul><li>\u4ECE sql \u53C2\u6570\u5BF9\u8C61\u4E2D\u8BA1\u7B97\u8868\u8FBE\u5F0F\u7684\u503C\uFF0C\u6839\u636E\u8868\u8FBE\u5F0F\u7684\u503C\uFF0C<mark>\u52A8\u6001\u62FC\u63A5 SQL</mark></li></ul><h3 id="_1-if" tabindex="-1"><a class="header-anchor" href="#_1-if" aria-hidden="true">#</a> 1) if</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG WHERE state = \u2018ACTIVE\u2019
<span class="token comment">&lt;!--    \u82E5 \u67E5\u8BE2\u7ED3\u679C title != null\uFF0C\u90A3\u4E48\u8FD8\u4F1A\u62FC\u63A5 title like #{title} \u6761\u4EF6 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND title like #{title}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author != null and author.name != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND author_name like #{author.name}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-where-set" tabindex="-1"><a class="header-anchor" href="#_2-where-set" aria-hidden="true">#</a> 2) where &amp; set</h3>`,6),M=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token comment"},"<!--where \u5143\u7D20\u53EA\u4F1A\u5728\u5B50\u5143\u7D20\u8FD4\u56DE\u4EFB\u4F55\u5185\u5BB9\u7684\u60C5\u51B5\u4E0B\u624D\u63D2\u5165 \u201CWHERE\u201D \u5B50\u53E5\u3002\u800C\u4E14\uFF0C\u82E5\u5B50\u53E5\u7684\u5F00\u5934\u4E3A \u201CAND\u201D \u6216 \u201COR\u201D\uFF0Cwhere \u5143\u7D20\u4E5F\u4F1A\u5C06\u5B83\u4EEC\u53BB\u9664-->"),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("select")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("findActiveBlogLike"),n("span",{class:"token punctuation"},'"')]),a(`
     `),n("span",{class:"token attr-name"},"resultType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("Blog"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  SELECT * FROM BLOG
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("where")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("state != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
         state = #{state}
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("title != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
        AND title like #{title}
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("author != null and author.name != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
        AND author_name like #{author.name}
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("where")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("select")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token comment"},"<!--set \u5143\u7D20\u4F1A\u52A8\u6001\u5730\u5728\u884C\u9996\u63D2\u5165 SET \u5173\u952E\u5B57\uFF0C\u5E76\u4F1A\u5220\u6389\u989D\u5916\u7684\u9017\u53F7\uFF08\u8FD9\u4E9B\u9017\u53F7\u662F\u5728\u4F7F\u7528\u6761\u4EF6\u8BED\u53E5\u7ED9\u5217\u8D4B\u503C\u65F6\u5F15\u5165\u7684\uFF09-->"),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("update")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("updateAuthorIfNecessary"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  update Author
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("set")]),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("username != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("username=#{username},"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("password != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("password=#{password},"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("email != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("email=#{email},"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("if")]),a(),n("span",{class:"token attr-name"},"test"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("bio != null"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("bio=#{bio}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("if")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("set")]),n("span",{class:"token punctuation"},">")]),a(`
  where id=#{id}
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("update")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=p(`<h3 id="_3-choose-when-otherwise" tabindex="-1"><a class="header-anchor" href="#_3-choose-when-otherwise" aria-hidden="true">#</a> 3) choose &amp; when &amp; otherwise</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--\u6709\u70B9\u50CF Java \u4E2D\u7684 switch \u8BED\u53E5--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG WHERE state = \u2018ACTIVE\u2019
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      AND title like #{title}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author != null and author.name != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      AND author_name like #{author.name}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
      AND featured = 1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-foreach" tabindex="-1"><a class="header-anchor" href="#_4-foreach" aria-hidden="true">#</a> 4) foreach</h3><ul><li>\u5F53\u4F7F\u7528\u53EF\u8FED\u4EE3\u5BF9\u8C61\u6216\u8005\u6570\u7EC4\u65F6\uFF0Cindex \u662F\u5F53\u524D\u8FED\u4EE3\u7684\u5E8F\u53F7\uFF0Citem \u7684\u503C\u662F\u672C\u6B21\u8FED\u4EE3\u83B7\u53D6\u5230\u7684\u5143\u7D20\u3002</li><li>\u5F53\u4F7F\u7528 Map \u5BF9\u8C61\uFF08\u6216\u8005 Map.Entry \u5BF9\u8C61\u7684\u96C6\u5408\uFF09\u65F6\uFF0Cindex \u662F\u952E\uFF0Citem \u662F\u503C\u3002</li><li>\u5F53\u4F20\u5165\u53C2\u6570\u4E3A \u5355\u53C2\u6570 &amp; \u53C2\u6570\u7C7B\u578B\u4E3A List \u65F6\uFF0C<code>collection=&quot;list&quot;</code></li><li>\u5F53\u4F20\u5165\u53C2\u6570\u4E3A \u5355\u53C2\u6570 &amp; \u53C2\u6570\u7C7B\u578B\u4E3A Array \u65F6\uFF0C<code>collection=&quot;array&quot;</code></li><li>\u5F53\u4F20\u5165\u53C2\u6570\u4E3A \u591A\u53C2\u6570\u65F6\uFF0C\u9700\u8981\u5C01\u88C5\u4E3A map\uFF0C<code>collection=&quot;map \u4E2D \u8BE5 List \u5BF9\u5E94\u7684 key \u540D\u79F0&quot;</code></li><li>\u6279\u91CF\u63D2\u5165\u7684\u884C\u6570\u5728 20-50 \u6761\u4E4B\u95F4\u6BD4\u8F83\u5408\u9002\uFF0C\u8D85\u8FC7 1000 \u6761\u6548\u7387\u5927\u5927\u964D\u4F4E <ul><li>\u6B64\u65F6\u82E5\u60F3\u89E3\u51B3\uFF0C</li><li>\u6BCF\u6B21\u63A7\u5236 foreach \u4E2D\u96C6\u5408\u6570\u91CF</li><li>\u4F7F\u7528 BatchInsert</li></ul></li></ul>`,4),B=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token comment"},"<!--\u5BF9\u96C6\u5408\u8FDB\u884C\u904D\u5386\uFF08\u5C24\u5176\u662F\u5728\u6784\u5EFA IN \u6761\u4EF6\u8BED\u53E5\u7684\u65F6\u5019\uFF09-->"),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("select")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("selectPostIn"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"resultType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("domain.blog.Post"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  SELECT *
  FROM POST P
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("where")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("foreach")]),a(),n("span",{class:"token attr-name"},"item"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("item"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"index"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("index"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"collection"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("list"),n("span",{class:"token punctuation"},'"')]),a(`
        `),n("span",{class:"token attr-name"},"open"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("ID in ("),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"separator"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a(","),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"close"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a(")"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"nullable"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("true"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
          #{item}
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("foreach")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("where")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("select")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),P=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token class-name"},"SqlSession"),a(" session "),n("span",{class:"token operator"},"="),a(" sqlSessionFactory"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"openSession"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ExecutorType"),n("span",{class:"token punctuation"},"."),a("BATCH"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token keyword"},"try"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token class-name"},"SimpleTableMapper"),a(" mapper "),n("span",{class:"token operator"},"="),a(" session"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getMapper"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"SimpleTableMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SimpleTableRecord"),n("span",{class:"token punctuation"},">")]),a(" records "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"getRecordsToInsert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// not shown"),a(`
 
    `),n("span",{class:"token class-name"},"BatchInsert"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"SimpleTableRecord"),n("span",{class:"token punctuation"},">")]),a(" batchInsert "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),a("records"),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"into"),n("span",{class:"token punctuation"},"("),a("simpleTable"),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),a("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toProperty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"id"'),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),a("firstName"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toProperty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"firstName"'),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),a("lastName"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toProperty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"lastName"'),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),a("birthDate"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toProperty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"birthDate"'),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),a("employed"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toProperty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"employed"'),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),a("occupation"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toProperty"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"occupation"'),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"build"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`
            `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"render"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RenderingStrategy"),n("span",{class:"token punctuation"},"."),a("MYBATIS3"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
 
    batchInsert`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insertStatements"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stream"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),a("mapper"),n("span",{class:"token operator"},"::"),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
 
    session`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"finally"),a(),n("span",{class:"token punctuation"},"{"),a(`
    session`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),R=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token class-name"},"Connection"),a(" connection "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token class-name"},"DriverManager"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getConnection"),n("span",{class:"token punctuation"},"("),a("url"),n("span",{class:"token punctuation"},","),a(" user"),n("span",{class:"token punctuation"},","),a(" password"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
connection`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setAutoCommit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token class-name"},"PreparedStatement"),a(" ps "),n("span",{class:"token operator"},"="),a(" connection"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"prepareStatement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"insert into tb_user (name) values(?)"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token keyword"},"for"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),a(" i "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),a(" i "),n("span",{class:"token operator"},"<"),a(" stuNum"),n("span",{class:"token punctuation"},";"),a(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    ps`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),a("name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    ps`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addBatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
ps`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"executeBatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
connection`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"commit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
connection`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),C=p('<hr><h2 id="_4-vs" tabindex="-1"><a class="header-anchor" href="#_4-vs" aria-hidden="true">#</a> 4. <code>#{}</code> VS <code>${}</code></h2><h3 id="_1" tabindex="-1"><a class="header-anchor" href="#_1" aria-hidden="true">#</a> 1) <code>#{}</code></h3><ul><li>\u5360\u4F4D\u7B26</li><li>\u4F7F\u7528 <code>#{}</code> \u65F6\uFF0CMyBatis \u4F1A\u521B\u5EFA <code>PreparedStatement</code> \u53C2\u6570\u5360\u4F4D\u7B26\uFF0C\u5E76\u901A\u8FC7\u5360\u4F4D\u7B26\u5B89\u5168\u5730\u8BBE\u7F6E\u53C2\u6570\uFF08\u5C31\u50CF\u4F7F\u7528 <code>?</code> \u4E00\u6837\uFF09</li><li>\u53EF\u4EE5\u6709\u6548\u9632\u6B62 sql \u6CE8\u5165</li><li>\u539F\u7406\uFF1A</li></ul>',4),L=n("div",{class:"language-xml ext-xml line-numbers-mode"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("select")]),a(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("selectPerson"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"parameterType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("int"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"resultType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("hashmap"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
  SELECT * FROM PERSON WHERE ID = #{id}
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("select")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),N=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token comment"},"// \u8FD1\u4F3C\u7684 JDBC \u4EE3\u7801\uFF0C\u975E MyBatis \u4EE3\u7801..."),a(`
`),n("span",{class:"token class-name"},"String"),a(" selectPerson "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token string"},'"SELECT * FROM PERSON WHERE ID=?"'),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// \u5C06 #{id} \u66FF\u6362\u4E3A ?"),a(`
`),n("span",{class:"token class-name"},"PreparedStatement"),a(" ps "),n("span",{class:"token operator"},"="),a(" conn"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"prepareStatement"),n("span",{class:"token punctuation"},"("),a("selectPerson"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// \u6839\u636E\u4E0A\u9762\u7684 sql \u8BED\u53E5\u8FDB\u884C\u9884\u7F16\u8BD1"),a(`
ps`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setInt"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),a("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// \u7136\u540E\u8BBE\u7F6E #{id} \u7684\u5B9E\u9645\u503C"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),j=p('<h3 id="_2" tabindex="-1"><a class="header-anchor" href="#_2" aria-hidden="true">#</a> 2) <code>${}</code></h3><ul><li>\u62FC\u63A5\u7B26</li><li>MyBatis \u5C31\u4E0D\u4F1A\u4FEE\u6539\u6216\u8F6C\u4E49\u8BE5\u5B57\u7B26\u4E32</li><li>\u53EF\u80FD\u4F1A\u53D1\u751F <mark>sql \u6CE8\u5165</mark><ul><li>\u8981\u4E48\u4E0D\u5141\u8BB8\u7528\u6237\u8F93\u5165\u8FD9\u4E9B\u5B57\u6BB5\uFF0C\u8981\u4E48\u81EA\u884C\u8F6C\u4E49\u5E76\u68C0\u9A8C\u8FD9\u4E9B\u53C2\u6570</li></ul></li><li>\u5F53 SQL \u8BED\u53E5\u4E2D\u7684\u5143\u6570\u636E\uFF08\u5982\u8868\u540D\u6216\u5217\u540D\uFF09\u662F\u52A8\u6001\u751F\u6210\u7684\u65F6\u5019\uFF0C\u5B57\u7B26\u4E32\u66FF\u6362\u5C06\u4F1A\u975E\u5E38\u6709\u7528</li><li>\u4F8B\uFF1A<code>select</code> \u4E00\u4E2A\u8868\u4EFB\u610F\u4E00\u5217\u7684\u6570\u636E\u65F6</li></ul>',2),D=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from user where id = #{id}"'),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token class-name"},"User"),a(),n("span",{class:"token function"},"findById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"id"'),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token keyword"},"long"),a(" id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

`),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from user where name = #{name}"'),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token class-name"},"User"),a(),n("span",{class:"token function"},"findByName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"name"'),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token class-name"},"String"),a(" name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

`),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from user where email = #{email}"'),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token class-name"},"User"),a(),n("span",{class:"token function"},"findByEmail"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"email"'),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token class-name"},"String"),a(" email"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),O=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from user where ${column} = #{value}"'),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token class-name"},"User"),a(),n("span",{class:"token function"},"findByColumn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"column"'),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token class-name"},"String"),a(" column"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"value"'),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token class-name"},"String"),a(" value"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token class-name"},"User"),a(" userOfId1 "),n("span",{class:"token operator"},"="),a(" userMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"findByColumn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"id"'),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token number"},"1L"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token class-name"},"User"),a(" userOfNameKid "),n("span",{class:"token operator"},"="),a(" userMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"findByColumn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"name"'),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token string"},'"kid"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token class-name"},"User"),a(" userOfEmail "),n("span",{class:"token operator"},"="),a(" userMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"findByColumn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"email"'),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token string"},'"noone@nowhere.com"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),F=n("hr",null,null,-1),H=n("h2",{id:"_5-\u6A21\u7CCA\u67E5\u8BE2-like",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_5-\u6A21\u7CCA\u67E5\u8BE2-like","aria-hidden":"true"},"#"),a(" 5. \u6A21\u7CCA\u67E5\u8BE2 like")],-1),W=n("ul",null,[n("li",null,[n("code",null,"concat('%', #{question}, '%')")]),n("li",null,"\u6BD4\u5B57\u7B26\u4E32\u7684\u76F4\u63A5\u62FC\u63A5\u5BB9\u6613\u5F15\u8D77 SQL \u6CE8\u5165\u66F4\u52A0\u5B89\u5168")],-1);function U(V,G){const c=i("Tabs");return k(),r("div",null,[m,o(c,{data:[{title:"Mapper"},{title:"xml"}],"tab-id":"code19"},{tab0:s(({title:t,value:e,isActive:l})=>[v]),tab1:s(({title:t,value:e,isActive:l})=>[b]),_:1}),g,h,f,o(c,{data:[{title:"select \u5B9E\u4F8B"},{title:"select \u8BE6\u7EC6\u914D\u7F6E"}],"tab-id":"code10"},{tab0:s(({title:t,value:e,isActive:l})=>[q]),tab1:s(({title:t,value:e,isActive:l})=>[_]),_:1}),x,o(c,{data:[{title:"Mapper \u63A5\u53E3"},{title:"insert & update & delete"},{title:"\u8BE6\u7EC6\u914D\u7F6E"}],"tab-id":"code11"},{tab0:s(({title:t,value:e,isActive:l})=>[y]),tab1:s(({title:t,value:e,isActive:l})=>[S]),tab2:s(({title:t,value:e,isActive:l})=>[A]),_:1}),w,o(c,{data:[{title:"where"},{title:"set"}],"tab-id":"code13"},{tab0:s(({title:t,value:e,isActive:l})=>[M]),tab1:s(({title:t,value:e,isActive:l})=>[E]),_:1}),T,o(c,{data:[{title:"foreach"},{title:"BatchInsert"},{title:"BatchInsert \u5E95\u5C42\u539F\u7406"}],"tab-id":"code15"},{tab0:s(({title:t,value:e,isActive:l})=>[B]),tab1:s(({title:t,value:e,isActive:l})=>[P]),tab2:s(({title:t,value:e,isActive:l})=>[R]),_:1}),C,o(c,{data:[{title:"\u6E90\u4EE3\u7801"},{title:"\u8F6C\u6362\u540E"}],"tab-id":"code11"},{tab0:s(({title:t,value:e,isActive:l})=>[L]),tab1:s(({title:t,value:e,isActive:l})=>[N]),_:1}),j,o(c,{data:[{title:"orig"},{title:"now"},{title:"\u4F7F\u7528"}],"tab-id":"code1"},{tab0:s(({title:t,value:e,isActive:l})=>[D]),tab1:s(({title:t,value:e,isActive:l})=>[O]),tab2:s(({title:t,value:e,isActive:l})=>[I]),_:1}),F,H,W])}var Q=u(d,[["render",U],["__file","xml\u6620\u5C04.html.vue"]]);export{Q as default};
