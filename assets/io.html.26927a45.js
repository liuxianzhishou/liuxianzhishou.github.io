import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";import{r as u,o as k,c as d,b as c,w as a,e as l,a as n,d as s}from"./app.5aebcaaa.js";var m="/assets/img_1.198e243a.png",b="/assets/img_1.198e243a.png",v="/assets/img_2.26e4a661.png",g="/assets/img_4.8b563dcf.png",h="/assets/img_5.31eb1234.png",w="/assets/img_6.a204e7ee.png",A="/assets/img_7.4fb6d5c9.png",y="/assets/img_4.63b1c01b.png",f="/assets/img_8.6565d5a8.png",E="/assets/img_9.48be94e9.png";const B={},_=l('<h1 id="\u8F93\u5165\u8F93\u51FA\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#\u8F93\u5165\u8F93\u51FA\u7BA1\u7406" aria-hidden="true">#</a> \u{1F329}\uFE0F \u8F93\u5165\u8F93\u51FA\u7BA1\u7406</h1><h2 id="_1-\u8BBE\u5907\u63A7\u5236\u5668-\u9A71\u52A8\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#_1-\u8BBE\u5907\u63A7\u5236\u5668-\u9A71\u52A8\u7A0B\u5E8F" aria-hidden="true">#</a> 1. \u8BBE\u5907\u63A7\u5236\u5668 &amp; \u9A71\u52A8\u7A0B\u5E8F</h2><h3 id="_1-\u8F93\u5165\u8F93\u51FA\u8BBE\u5907\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#_1-\u8F93\u5165\u8F93\u51FA\u8BBE\u5907\u5206\u7C7B" aria-hidden="true">#</a> 1) \u8F93\u5165\u8F93\u51FA\u8BBE\u5907\u5206\u7C7B</h3><ol><li><strong>\u5757\u8BBE\u5907</strong><ul><li>\u6570\u636E<strong>\u5B58\u50A8\u5728\u56FA\u5B9A\u5927\u5C0F\u7684\u5757</strong>\u4E2D\uFF0C\u6BCF\u4E2A\u5757\u5747\u6709\u81EA\u5DF1\u7684<strong>\u7269\u7406\u5730\u5740</strong>\uFF0C\u4F20\u8F93\u6570\u636E\u4E5F\u4EE5<strong>\u8FDE\u7EED\u7684\u5757</strong>\u4E3A\u5355\u4F4D\uFF0C\u6BCF\u4E2A\u5757\u76F8\u5BF9\u72EC\u7ACB\uFF0C\u53EF\u4EE5<strong>\u5355\u72EC\u8FDB\u884C\u8BFB\u5199</strong></li><li>\u4F8B\u5982\uFF1A\u786C\u76D8\u3001U\u76D8</li><li>\u8BE5\u7C7B\u8BBE\u5907\u901A\u5E38\u4F20\u8F93\u7684\u6570\u636E\u91CF\u4F1A\u5F88\u5927\uFF0C\u56E0\u6B64\u5BF9\u5E94\u7684 \u8BBE\u5907\u63A7\u5236\u5668 \u4E2D\u4F1A\u6709\u4E00\u4E2A <strong>\u53EF\u8BFB\u5199</strong> \u7684 <strong>\u6570\u636E\u7F13\u51B2\u533A</strong><ul><li>\u6570\u636E\u7F13\u51B2\u533A\u7684\u4F5C\u7528\uFF1A\u63D0\u4F9B\u7F13\u51B2\uFF0C\u5F53\u6570\u636E\u91CF\u8FBE\u5230\u7F13\u51B2\u533A\u4E00\u5B9A\u7A0B\u5EA6\u540E\u624D\u4F1A\u8FDB\u884C\u6570\u636E\u7684\u4F20\u8F93</li><li>CPU \u5982\u4F55\u4E0E \u6570\u636E\u7F13\u51B2\u533A \u901A\u4FE1\uFF1F <ul><li><mark>IO \u7AEF\u53E3</mark><ul><li>\u6BCF\u4E2A\u63A7\u5236\u5BC4\u5B58\u5668\u88AB\u5206\u914D\u4E00\u4E2A IO \u7AEF\u53E3\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7279\u6B8A\u7684\u6C47\u7F16\u6307\u4EE4\u64CD\u4F5C\u8FD9\u4E9B\u5BC4\u5B58\u5668</li></ul></li><li><mark>\u5185\u5B58\u6620\u5C04 IO</mark><ul><li>\u5C06\u6240\u6709\u63A7\u5236\u5BC4\u5B58\u5668\u6620\u5C04\u5230\u5185\u5B58\u7A7A\u95F4\uFF0C\u53EF\u4EE5\u50CF\u8BFB\u5199\u5185\u5B58\u4E00\u6837\u8BFB\u5199\u6570\u636E\u7F13\u51B2\u533A</li></ul></li></ul></li></ul></li><li>Linux \u4E3A\u5C4F\u853D\u4E0D\u540C\u5757\u8BBE\u5907\u7684\u5DEE\u5F02\uFF0C\u5F15\u5165\u4E86 <strong>\u901A\u7528\u5757\u5C42</strong></li></ul></li><li><strong>\u5B57\u7B26\u8BBE\u5907</strong><ul><li>\u4EE5<strong>\u5B57\u7B26</strong>\u4E3A\u57FA\u672C\u5355\u4F4D\uFF0C\u53D1\u9001 | \u63A5\u6536 \u5B57\u7B26\u6D41\u6570\u636E\uFF0C<mark>\u4E0D\u53EF\u5BFB\u5740</mark> &amp; <mark>\u65E0\u6CD5\u5BFB\u9053</mark></li><li>\u4F8B\u5982\uFF1A\u9F20\u6807\u3001\u6253\u5370\u673A</li></ul></li></ol><h3 id="_2-\u8BBE\u5907\u63A7\u5236\u5668" tabindex="-1"><a class="header-anchor" href="#_2-\u8BBE\u5907\u63A7\u5236\u5668" aria-hidden="true">#</a> 2) \u8BBE\u5907\u63A7\u5236\u5668</h3><ol><li><strong>\u662F\u4EC0\u4E48</strong>\uFF1F <ul><li>\u63A7\u5236 <mark>\u4E00\u4E2A | \u591A\u4E2A</mark> IO \u8BBE\u5907\uFF0C\u5E76\u6709\u81EA\u5DF1\u7684\u5BC4\u5B58\u5668\uFF0C\u53EF\u4EE5\u5B9E\u73B0 IO \u8BBE\u5907 \u548C \u8BA1\u7B97\u673A\u4E4B\u95F4\u7684\u6570\u636E\u4EA4\u6362 <ul><li>\u5F53\u63A7\u5236 \u4E00\u4E2A \u8BBE\u5907\u65F6\uFF0C\u53EA\u6709\u4E00\u4E2A\u8BBE\u5907\u5730\u5740</li><li>\u5F53\u63A7\u5236 \u591A\u4E2A \u8BBE\u5907\u65F6\uFF0C\u542B\u6709\u591A\u4E2A\u8BBE\u5907\u5730\u5740\uFF0C\u4E14\u6BCF\u4E2A\u8BBE\u5907\u5BF9\u5E94\u4E00\u4E2A\u5730\u5740</li></ul></li><li>\u5C5E\u4E8E<strong>\u786C\u4EF6</strong>\u8303\u7574</li><li>\u53EF\u4EE5\u548C\u64CD\u4F5C\u7CFB\u7EDF\u7684 CPU \u8FDB\u884C\u901A\u4FE1\uFF0C\u63A5\u6536 CPU \u6307\u4EE4\u4FE1\u606F\uFF0C\u5E76\u5BF9\u81EA\u5DF1\u8D1F\u8D23\u7684\u8BBE\u5907\u8FDB\u884C\u76F8\u5173\u63A7\u5236</li></ul></li><li><strong>\u4F5C\u7528</strong><ul><li><mark>\u63A5\u6536 &amp; \u8BC6\u522B\u547D\u4EE4</mark><ul><li>\u63A5\u6536\u6765\u81EA CPU \u7684\u6307\u4EE4\uFF0C\u5E76\u8BC6\u522B\uFF1B\u5185\u90E8\u6709\u5BC4\u5B58\u5668\uFF0C\u53EF\u4EE5\u5B58\u653E\u6307\u4EE4 &amp; \u53C2\u6570</li></ul></li><li><mark>\u8FDB\u884C\u6570\u636E\u4EA4\u6362</mark><ul><li>\u5411\u4E0A\u4E0E CPU \u8FDB\u884C\u6570\u636E\u4EA4\u6362</li><li>\u5411\u4E0B\u4E0E \u786C\u4EF6\u8BBE\u5907 \u8FDB\u884C\u6570\u636E\u4EA4\u6362</li></ul></li><li><mark>\u5730\u5740\u8BC6\u522B</mark><ul><li>\u8BC6\u522B\u4E0D\u540C\u5730\u5740\u5BF9\u5E94\u54EA\u4E2A\u786C\u4EF6\u8BBE\u5907</li></ul></li><li><mark>\u5DEE\u9519\u68C0\u6D4B</mark><ul><li>\u5BF9\u786C\u4EF6\u8BBE\u5907\u4F20\u8FC7\u6765\u7684\u6570\u636E\u8FDB\u884C\u68C0\u6D4B</li></ul></li></ul></li><li><strong>\u5206\u7C7B\uFF1A</strong><ul><li>\u5B57\u7B26\u8BBE\u5907\u63A7\u5236\u5668</li><li>\u5757\u8BBE\u5907\u63A7\u5236\u5668</li></ul></li><li><strong>\u5982\u4F55\u901A\u4FE1</strong>\uFF1F <ul><li>\u901A\u8FC7\u8BFB\u53D6\u8BBE\u5907\u63A7\u5236\u5668\u7684\u5BC4\u5B58\u5668\u4E2D\u7684\u76F8\u5173\u503C\uFF0C\u53EF\u4EE5<strong>\u5F97\u77E5\u8BBE\u5907\u7684\u72B6\u6001</strong>\uFF0C\u4F8B\u5982\u662F\u5426\u53EF\u4EE5\u63A5\u6536\u65B0\u6307\u4EE4\u7B49</li><li>\u901A\u8FC7\u5411\u8BBE\u5907\u5BC4\u5B58\u5668\u4E2D\u5199\u5165\u4E00\u4E9B\u6307\u4EE4\uFF0C\u53EF\u4EE5\u5BF9\u8BBE\u5907\u8FDB\u7A0B\u76F8\u5173<strong>\u63A7\u5236</strong></li></ul></li><li><strong>\u5BC4\u5B58\u5668\u7684\u79CD\u7C7B</strong>\uFF1F <ul><li><mark>\u72B6\u6001\u5BC4\u5B58\u5668</mark><ul><li>\u6807\u8BC6\u5BC4\u5B58\u5668\u7684\u72B6\u6001\uFF0C \u4F8B\u5982 <ul><li><em>\u5DE5\u4F5C\u72B6\u6001</em><ul><li>CPU \u6B64\u65F6\u53D1\u9001\u6307\u4EE4 | \u6570\u636E\u5747\u65E0\u6548</li></ul></li><li><em>\u5DE5\u4F5C\u5B8C\u6210\u72B6\u6001</em><ul><li>CPU \u53D1\u9001\u7684\u6307\u4EE4 | \u6570\u636E\u80FD\u591F\u88AB\u8BBE\u5907\u5BC4\u5B58\u5668\u63A5\u6536</li></ul></li></ul></li></ul></li><li><mark>\u547D\u4EE4\u5BC4\u5B58\u5668</mark><ul><li>CPU \u53D1\u9001\u547D\u4EE4\u901A\u77E5 IO \u8BBE\u5907\u8FDB\u884C\u8F93\u5165 | \u8F93\u51FA\u64CD\u4F5C</li><li>\u8BBE\u5907\u63A7\u5236\u5668\u63A7\u5236\u8BBE\u5907\u8FDB\u884C\u76F8\u5173\u64CD\u4F5C</li><li>\u64CD\u4F5C\u5B8C\u6210\u540E\uFF0C\u4F1A\u4FEE\u6539 \u72B6\u6001\u5BC4\u5B58\u5668 \u7684\u72B6\u6001\u4E3A \u5DE5\u4F5C\u5B8C\u6210\u72B6\u6001</li></ul></li><li><mark>\u6570\u636E\u5BC4\u5B58\u5668</mark><ul><li>CPU \u5411\u786C\u4EF6\u8BBE\u5907\u5199\u5165\u4F20\u8F93\u6570\u636E\u65F6\uFF0CCPU \u9700\u8981\u53D1\u9001\u4E00\u4E2A\u4E2A\u5B57\u7B26\u6570\u636E\u7ED9\u8BBE\u5907</li><li>\u8FD9\u4E9B\u6570\u636E\u5B58\u50A8\u5728\u6570\u636E\u5BC4\u5B58\u5668\u4E2D</li></ul></li></ul></li></ol><h3 id="_3-\u9A71\u52A8\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#_3-\u9A71\u52A8\u7A0B\u5E8F" aria-hidden="true">#</a> 3) \u9A71\u52A8\u7A0B\u5E8F</h3><ol><li>\u662F\u4EC0\u4E48\uFF1F <ul><li><strong>\u64CD\u4F5C\u7CFB\u7EDF</strong>\u7684\u4E00\u90E8\u5206</li><li>\u5C5E\u4E8E<strong>\u8F6F\u4EF6</strong>\u8303\u7574</li><li>\u8FD0\u884C\u4F4D\u7F6E\uFF1A <ul><li>\u901A\u5E38\u4E3A<strong>\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838</strong>\u7684\u4E00\u90E8\u5206\uFF0C</li><li>\u4F46\u4E5F\u53EF\u4EE5\u6784\u9020<strong>\u7528\u6237\u7A7A\u95F4</strong>\u7684\u8BBE\u5907\u9A71\u52A8\u7A0B\u5E8F\uFF0C\u8FD9\u6837<em>\u907F\u514D\u4E86\u6709\u95EE\u9898\u7684\u9A71\u52A8\u7A0B\u5E8F\u5E72\u6270\u5185\u6838\uFF0C\u9020\u6210\u5185\u6838\u7684\u5D29\u6E83</em>\uFF0C\u4F46<em>\u5927\u591A\u6570\u684C\u9762\u7CFB\u7EDF\u8981\u6C42\u9A71\u52A8\u7A0B\u5E8F\u5FC5\u987B\u8FD0\u884C\u5728\u5185\u6838\u4E2D</em></li></ul></li></ul></li><li>\u9A71\u52A8\u7A0B\u5E8F\u5982\u4F55\u88C5\u5165\u64CD\u4F5C\u7CFB\u7EDF\uFF1F <ul><li>\u5C06\u5185\u6838\u4E0E\u8BBE\u5907\u9A71\u52A8\u7A0B\u5E8F\u91CD\u65B0\u8FDE\u63A5\uFF0C\u7136\u540E\u91CD\u542F\u7CFB\u7EDF - <code>Unix</code> \u7CFB\u7EDF\u91C7\u7528\u8BE5\u65B9\u5F0F</li><li>\u5728\u64CD\u4F5C\u7CFB\u7EDF\u6587\u4EF6\u4E2D\u8BBE\u7F6E\u4E00\u4E2A\u5165\u53E3\uFF0C\u901A\u77E5\u8BE5\u6587\u4EF6\u9700\u8981\u4E00\u4E2A\u8BBE\u5907\u9A71\u52A8\u7A0B\u5E8F\uFF0C\u7136\u540E\u91CD\u542F\u7CFB\u7EDF\uFF0C\u5728\u91CD\u542F\u7CFB\u7EDF\u65F6\uFF0C\u64CD\u4F5C\u7CFB\u7EDF\u5BFB\u627E\u6709\u5173\u7684\u8BBE\u5907\u9A71\u52A8\u7A0B\u5E8F\u5E76\u88C5\u8F7D\u8FDB\u5185\u6838 - <code>Windows</code> \u7CFB\u7EDF\u91C7\u7528</li><li>\u64CD\u4F5C\u7CFB\u7EDF\u5728\u8FD0\u884C\u65F6\u63A5\u6536\u65B0\u7684\u8BBE\u5907\u9A71\u52A8\u7A0B\u5E8F\u5E76\u7ACB\u5373\u5B89\u88C5\uFF0C\u800C\u65E0\u9700\u91CD\u542F\u7CFB\u7EDF - <code>\u70ED\u63D2\u62D4\u8BBE\u5907</code>\uFF0C\u4F8B USB \u7B49</li></ul></li><li>\u4F5C\u7528 <ul><li>\u7531\u4E8E\u8BBE\u5907\u63A7\u5236\u5668\u95F4\u7684\u5BC4\u5B58\u5668\u3001\u7F13\u51B2\u533A\u7B49\u7684\u4E0D\u540C\uFF0C\u4E3A\u4E86<strong>\u5C4F\u853D\u8BBE\u5907\u63A7\u5236\u5668\u95F4\u7684\u5DEE\u5F02</strong></li><li><strong>\u8BBE\u5907\u63A7\u5236\u5668\u4F1A\u63D0\u4F9B\u7EDF\u4E00\u63A5\u53E3\u7ED9\u64CD\u4F5C\u7CFB\u7EDF</strong></li><li>\u64CD\u4F5C\u7CFB\u7EDF\u901A\u8FC7\u9A71\u52A8\u7A0B\u5E8F\u4F7F\u7528\u7EDF\u4E00 API \u4E0E\u4E0D\u540C\u7684\u8BBE\u5907\u63A7\u5236\u5668\u8FDB\u884C\u901A\u4FE1</li><li><strong>\u5B58\u653E\u8BBE\u5907\u7684\u4E2D\u65AD\u5904\u7406\u51FD\u6570\uFF0C\u5F53\u53D1\u751F\u4E2D\u65AD\u65F6\uFF0C\u4F1A\u88AB\u8C03\u7528</strong></li></ul></li><li>IO \u4E2D\u65AD\u6D41\u7A0B\uFF1A</li></ol>',8),C=l('<hr><h2 id="_2-io-\u63A7\u5236\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2-io-\u63A7\u5236\u65B9\u5F0F" aria-hidden="true">#</a> 2. IO \u63A7\u5236\u65B9\u5F0F</h2><ul><li>\u5F53 CPU \u53D1\u9001\u6307\u4EE4\u7ED9\u8BBE\u5907\u63A7\u5236\u5668\uFF0C\u4ECE\u800C\u8BFB\u5199\u6570\u636E\uFF0C\u8BBE\u5907\u8BFB\u5B8C\u6210\u529F\u540E\uFF0C\u5982\u4F55\u5C06\u8BE5\u4FE1\u606F\u901A\u77E5\u7ED9 CPU</li><li>\u8FD9\u4E2A\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u5C31\u662F IO \u63A7\u5236\u65B9\u5F0F</li><li>\u4E3B\u8981\u6709\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\uFF1A</li></ul><h3 id="_1-\u8F6E\u8BE2" tabindex="-1"><a class="header-anchor" href="#_1-\u8F6E\u8BE2" aria-hidden="true">#</a> 1) \u8F6E\u8BE2</h3><ul><li>\u8BBE\u5907\u63A7\u5236\u5668\u4E2D\u6709\u4E2A\u5BC4\u5B58\u5668\uFF0C\u662F <strong>\u72B6\u6001\u5BC4\u5B58\u5668</strong>\uFF0C\u5B83\u8BB0\u5F55\u4E86\u8BBE\u5907\u5F53\u524D\u5DE5\u4F5C\u662F\u5426\u5B8C\u6210\u7684\u72B6\u6001</li><li>CPU \u901A\u8FC7\u4E0D\u65AD <strong>\u8F6E\u8BE2</strong> \u8BE5\u72B6\u6001\u5BC4\u5B58\u5668\uFF0C\u8BFB\u53D6\u8BBE\u5907\u5F53\u524D\u72B6\u6001\uFF0C\u6765\u83B7\u53D6\u8BBE\u5907\u662F\u5426\u5DF2\u7ECF\u5B8C\u6210</li><li>\u7279\u70B9\uFF1A <ul><li>\u5360\u7528 CPU \u8D44\u6E90\uFF0CCPU \u65E0\u6CD5\u505A\u5176\u4ED6\u4E8B\u60C5\uFF0C\u6548\u7387\u4F4E</li></ul></li><li><img src="'+m+'" alt="img.png"></li></ul><h3 id="_2-\u4E2D\u65AD" tabindex="-1"><a class="header-anchor" href="#_2-\u4E2D\u65AD" aria-hidden="true">#</a> 2) \u4E2D\u65AD</h3><ul><li>\u5916\u90E8\u8BBE\u5907\u4E2D\uFF0C\u4E00\u822C\u90FD\u542B\u6709 <strong>\u4E2D\u65AD\u63A7\u5236\u5668</strong>\uFF0C\u5F53\u6570\u636E\u5904\u7406\u5B8C\u6BD5\u540E\uFF0C\u4E2D\u65AD\u63A7\u5236\u5668\u4F1A\u53D1\u9001<strong>\u4E2D\u65AD\u4FE1\u53F7</strong>\u7ED9 CPU\uFF0C <ul><li>CPU \u6B64\u65F6\u5C31\u4FDD\u62A4\u73B0\u573A -&gt; \u8BBE\u5907\u9A71\u52A8\u7A0B\u5E8F\u6267\u884C\u5185\u5728\u7684\u4E2D\u65AD\u5904\u7406\u51FD\u6570 -&gt; \u6062\u590D\u73B0\u573A\uFF0C\u53EF\u53C2\u89C1 <em>\u4E0A\u4E00\u8282\u7684 IO \u4E2D\u65AD\u6D41\u7A0B</em></li><li>\u8FD9\u91CC\u7684\u4E2D\u65AD\u5904\u7406\u51FD\u6570\u4E2D\uFF0C<strong>CPU \u4E3B\u8981\u5DE5\u4F5C\u662F\u5C06 \u6570\u636E\u4ECE \u78C1\u76D8\u7F13\u51B2\u533A \u590D\u5236\u5230 \u5185\u6838\u7F13\u51B2\u533A\uFF0C\u518D\u4ECE\u5185\u6838\u7F13\u51B2\u533A \u590D\u5236\u5230 \u7528\u6237\u7F13\u51B2\u533A</strong></li><li>\u8FD9\u5C5E\u4E8E <strong>\u786C\u4EF6\u4E2D\u65AD</strong></li></ul></li><li>\u7279\u70B9\uFF1A <ul><li>\u5728\u4E2D\u65AD\u4FE1\u53F7\u5230\u6765\u524D\uFF0CCPU \u53EF\u4EE5\u5904\u7406\u5176\u4ED6\u4E8B\u52A1\uFF0C\u6548\u7387\u6BD4\u8F6E\u8BE2\u9AD8</li><li>\u82E5\u662F\u9891\u7E41\u8BFB\u5199\u6570\u636E\uFF0C\u90A3\u4E48 \u4E2D\u65AD\u4FE1\u53F7 \u4E5F\u9891\u7E41\uFF0C\u4F1A\u7ECF\u5E38\u6253\u65AD CPU \u7684\u6267\u884C\uFF0C\u4FDD\u62A4\u73B0\u573A &amp; \u6062\u590D\u73B0\u573A \u9700\u8981\u82B1\u8D39\u65F6\u95F4\uFF0C\u4F1A\u964D\u4F4E CPU \u7684\u6548\u7387</li></ul></li><li><img src="'+b+'" alt="img_1.png"></li></ul><h3 id="_3-dma" tabindex="-1"><a class="header-anchor" href="#_3-dma" aria-hidden="true">#</a> 3) DMA</h3><ul><li>\u5916\u90E8\u8BBE\u5907\u53D1\u8D77 \u4E2D\u65AD\u8BF7\u6C42\uFF0C\u901A\u77E5 <strong>DMA \u63A7\u5236\u5668</strong>\uFF0C\u7531 <strong>DMA \u63A7\u5236\u5668</strong> \u8D1F\u8D23\u5C06 <strong>\u78C1\u76D8\u7F13\u51B2\u533A\u7684\u6570\u636E \u590D\u5236\u5230 \u5185\u6838\u7F13\u51B2\u533A</strong></li><li>\u590D\u5236\u5B8C\u6210\u540E\uFF0C\u901A\u77E5 CPU\uFF0C\u6B64\u8FC7\u7A0B\u4E2D\uFF0CCPU <mark>\u5C06\u6570\u636E \u4ECE \u5185\u6838\u7F13\u51B2\u533A \u590D\u5236\u5230 \u7528\u6237\u7F13\u51B2\u533A</mark></li><li>\u7279\u70B9\uFF1A <ul><li>CPU \u51CF\u5C11\u4E00\u6B21\u6570\u636E\u7684\u590D\u5236\uFF0C\u53EF\u4EE5\u6709\u66F4\u591A\u7684\u65F6\u95F4\u5904\u7406\u5176\u4ED6\u4E8B\u52A1\uFF0C\u6548\u7387\u8FDB\u4E00\u6B65\u63D0\u9AD8</li></ul></li><li><img src="'+v+'" alt="img_2.png"></li><li>\u5177\u4F53\u6D41\u7A0B\uFF1A <ul><li>CPU \u5BF9 DMA \u63A7\u5236\u5668\u8FDB\u884C\u53D1\u9001\u6307\u4EE4\uFF0C\u8868\u793A\u81EA\u5DF1\u60F3\u8BFB\u53D6\u54EA\u4E9B\u6570\u636E\uFF0C\u4EE5\u53CA\u6570\u636E\u8BFB\u53D6\u540E\u653E\u5728 \u5185\u6838\u7F13\u51B2\u533A \u7684\u54EA\u4E2A\u4F4D\u7F6E</li><li>DMA \u63A7\u5236\u5668 \u4E0E\u8BBE\u5907\u63A7\u5236\u5668\u8FDB\u884C\u4EA4\u4E92\uFF0C\u53D1\u9001\u76F8\u5173\u6307\u4EE4\uFF0C\u901A\u77E5\u5916\u90E8\u8BBE\u5907\u5C06\u6570\u636E\u590D\u5236\u5230 \u78C1\u76D8\u7F13\u51B2\u533A\uFF0C\u590D\u5236\u5B8C\u6210\u540E\uFF0C\u901A\u8FC7 DMA \u63A7\u5236\u5668</li><li>DMA \u63A7\u5236\u5668 \u63A5\u6536\u5230\u6210\u529F\u4FE1\u606F\u540E\uFF0C\u8D1F\u8D23\u5C06 \u6570\u636E\u4ECE \u78C1\u76D8\u7F13\u51B2\u533A -&gt; \u5185\u6838\u7F13\u51B2\u533A\uFF0C\u5B8C\u6210\u540E\uFF0C\u4EA7\u751F\u4E2D\u65AD\u4FE1\u53F7\uFF0C\u901A\u77E5 CPU</li><li>CPU \u63A5\u6536\u5230\u6210\u529F\u4FE1\u53F7\u540E\uFF0C\u5C06 \u6570\u636E\u4ECE \u5185\u6838\u7F13\u51B2\u533A -&gt; \u7528\u6237\u7F13\u51B2\u533A\uFF0C\u518D\u7531\u5185\u6838\u6001\u5207\u6362\u56DE\u7528\u6237\u6001</li></ul></li></ul><hr><h2 id="_3-io-\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#_3-io-\u5206\u7C7B" aria-hidden="true">#</a> 3. IO \u5206\u7C7B</h2><hr><h2 id="_4-io-\u5206\u5C42" tabindex="-1"><a class="header-anchor" href="#_4-io-\u5206\u5C42" aria-hidden="true">#</a> 4. IO \u5206\u5C42</h2>',13),D=l('<h3 id="_1-\u901A\u7528\u5757\u5C42" tabindex="-1"><a class="header-anchor" href="#_1-\u901A\u7528\u5757\u5C42" aria-hidden="true">#</a> 1) \u901A\u7528\u5757\u5C42</h3><ol><li>\u4F5C\u7528 <ul><li>\u5411\u4E0A\u4E3A \u6587\u4EF6\u7CFB\u7EDF &amp; \u5E94\u7528\u7A0B\u5E8F \u63D0\u4F9B\u8BBF\u95EE\u5757\u8BBE\u5907\u7684\u6807\u51C6\u63A5\u53E3\uFF1B\u5411\u4E0B\u5C06\u4E0D\u540C\u7684\u78C1\u76D8\u8BBE\u5907\u62BD\u8C61\u4E3A\u7EDF\u4E00\u7684\u5757\u8BBE\u5907\uFF0C\u5728\u5185\u6838\u5C42\u9762\uFF0C\u8D1F\u8D23\u7BA1\u7406 &amp; \u5B58\u50A8\u78C1\u76D8\u6570\u636E</li><li>\u4E3A \u6587\u4EF6\u7CFB\u7EDF &amp; \u5E94\u7528\u7A0B\u5E8F \u53D1\u6765\u7684 IO \u8BF7\u6C42\u6392\u961F\uFF0C\u5BF9\u961F\u5217\u91CD\u6392\u5E8F\u3001\u5408\u5E76\u591A\u4E2A IO \u8BF7\u6C42 \u7B49\uFF0C\u63D0\u9AD8\u78C1\u76D8\u8BFB\u5199\u6548\u7387</li></ul></li></ol><h3 id="_2-io-\u8C03\u5EA6\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-io-\u8C03\u5EA6\u7B97\u6CD5" aria-hidden="true">#</a> 2) IO \u8C03\u5EA6\u7B97\u6CD5</h3><ol><li><p>\u6CA1\u6709\u8C03\u5EA6\u7B97\u6CD5</p><ul><li>\u5185\u6838 \u4E0D\u4E3A IO \u505A\u4EFB\u4F55\u5904\u7406</li><li>\u5E38\u7528\u4E8E \u865A\u62DF\u673A IO\uFF0C\u5B8C\u5168\u4EA4\u7531\u7269\u7406\u673A\u7CFB\u7EDF\u8D1F\u8D23</li></ul></li><li><p>FIFO</p></li><li><p>\u65F6\u95F4\u7247\u8F6E\u8F6C</p><ul><li>\u5185\u6838 \u4E3A\u6BCF\u4E2A \u8FDB\u7A0B \u7EF4\u62A4\u4E00\u4E2A IO \u8C03\u5EA6\u961F\u5217\uFF0C\u8FDB\u7A0B\u4E2D\u7684\u6BCF\u4E2A IO \u5206\u914D\u76F8\u540C\u65F6\u95F4\u7247</li><li>\u9ED8\u8BA4 IO \u8C03\u5EA6\u7B97\u6CD5</li></ul></li><li><p>\u57FA\u4E8E\u4F18\u5148\u7EA7</p><ul><li>\u4F18\u5148\u7EA7\u9AD8\u7684 IO \u8BF7\u6C42\u5148\u884C\u53D1\u751F</li><li>\u9002\u7528\u4E8E \u5927\u91CF\u8FDB\u7A0B\u7684\u7CFB\u7EDF\uFF0C\u4F8B\u5982 \u684C\u9762\u73AF\u5883</li></ul></li><li><p>\u6700\u7EC8\u671F\u9650\u8C03\u5EA6</p><ul><li>\u5206\u522B\u4E3A \u8BFB\u3001\u5199 \u8BF7\u6C42\u521B\u5EFA\u4E0D\u540C\u7684 IO \u961F\u5217\uFF0C\u786E\u4FDD\u8FBE\u5230\u6700\u7EC8\u671F\u9650\u7684\u8BF7\u6C42\u5148\u884C\u5904\u7406</li><li>\u9002\u7528\u4E8E IO \u538B\u529B\u6BD4\u8F83\u5927\u7684\u573A\u666F\uFF0C\u4F8B\u5982 \u6570\u636E\u5E93</li></ul></li></ol><hr><h2 id="_5-\u78C1\u76D8\u8C03\u5EA6\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#_5-\u78C1\u76D8\u8C03\u5EA6\u7B97\u6CD5" aria-hidden="true">#</a> 5. \u78C1\u76D8\u8C03\u5EA6\u7B97\u6CD5</h2><h3 id="_1-fifo" tabindex="-1"><a class="header-anchor" href="#_1-fifo" aria-hidden="true">#</a> 1) FIFO</h3><ul><li>\u5148\u6765\u5148\u670D\u52A1</li><li>\u7279\u70B9\uFF1A <ul><li>\u7B80\u5355\u7C97\u66B4</li><li>\u82E5\u5927\u91CF\u8FDB\u7A0B\u7ADE\u4E89\u4F7F\u7528\u78C1\u76D8\uFF0C\u7531\u4E8E\u5728\u4E0D\u540C\u78C1\u9053\u4E0A\uFF0C\u6027\u80FD\u4E0B\u964D</li></ul></li></ul><h3 id="_2-\u6700\u77ED\u5BFB\u9053\u65F6\u95F4\u4F18\u5148" tabindex="-1"><a class="header-anchor" href="#_2-\u6700\u77ED\u5BFB\u9053\u65F6\u95F4\u4F18\u5148" aria-hidden="true">#</a> 2) \u6700\u77ED\u5BFB\u9053\u65F6\u95F4\u4F18\u5148</h3><ul><li>\u4F18\u5148\u9009\u62E9\u4ECE\u5F53\u524D\u78C1\u5934\u4F4D\u7F6E\u5230 \u6240\u6709\u8BF7\u6C42\u78C1\u9053\u4F4D\u7F6E \u4E2D\u7684\u6700\u8FD1\u7684 \u78C1\u9053</li><li>\u7279\u70B9\uFF1A <ul><li>\u5BFC\u81F4\u67D0\u4E9B\u78C1\u9053\u4E00\u76F4\u5F97\u4E0D\u5230\u5BFB\u9053\uFF0C\u4EA7\u751F\u9965\u997F\u73B0\u8C61</li></ul></li></ul><h3 id="_3-\u626B\u63CF\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#_3-\u626B\u63CF\u7B97\u6CD5" aria-hidden="true">#</a> 3) \u626B\u63CF\u7B97\u6CD5</h3><ul><li>\u78C1\u5934\u4ECE\u4E00\u7AEF\u5230\u53E6\u4E00\u7AEF\u79FB\u52A8\uFF0C\u9047\u5230\u8BF7\u6C42\u78C1\u9053\u4F4D\u7F6E\uFF0C\u5904\u7406\u8BE5\u78C1\u9053\u8BF7\u6C42\uFF0C\u7136\u540E\u7EE7\u7EED\u79FB\u52A8\uFF0C\u76F4\u5230\u8FD9\u4E2A\u65B9\u5411\u4E0A\u6CA1\u6709\u4E86\u66F4\u5927\u7684\u78C1\u9053\u8BF7\u6C42\uFF0C\u7136\u540E\u8C03\u8F6C\u65B9\u5411\uFF0C\u5904\u7406\u53E6\u4E00\u7AEF</li><li>\u8FD9\u4E2A <mark>\u7AEF</mark> \u5E76\u975E\u6307\u5F53\u524D\u6240\u6709\u8BF7\u6C42\u7684\u7AEF\u70B9\uFF0C\u800C\u662F\u5B9E\u9645\u78C1\u9053\u7684 \u7AEF\u70B9\uFF0C\u56E0\u6B64 <strong>\u7AEF\u70B9\u662F\u56FA\u5B9A\u7684</strong></li><li>\u7279\u70B9\uFF1A <ul><li>\u89E3\u51B3\u9965\u997F\u95EE\u9898</li><li><strong>\u4E2D\u95F4\u78C1\u9053\u8BF7\u6C42\u6BD4\u4E24\u4FA7\u8BF7\u6C42\u7B49\u5F85\u7684\u65F6\u95F4\u8981\u77ED</strong>\uFF0C <ul><li>\u4F8B\u5982\uFF0C\u5F53\u524D\u4E3A\u4E2D\u70B9\u4F4D\u7F6E\uFF0C\u4E2D\u70B9\u4F4D\u7F6E\u521A\u8FC7\uFF0C\u4E2D\u70B9\u5904\u5C31\u6709\u65B0\u7684\u8BF7\u6C42\uFF0C\u53F3\u7AEF\u70B9\u4E5F\u6709\u8BF7\u6C42</li><li>\u5230\u8FBE\u53F3\u7AEF\u70B9\u8BF7\u6C42\u9700\u8981\u7B49\u5F85\u534A\u4E2A\u78C1\u9053\u7684\u65F6\u95F4\uFF0C\u7136\u540E\u8C03\u8F6C\uFF0C\u521A\u8C03\u8F6C\uFF0C\u53F3\u7AEF\u70B9\u53C8\u6709\u65B0\u7684\u8BF7\u6C42</li><li>\u5230\u8FBE\u4E2D\u70B9\u4F4D\u7F6E\uFF0C\u4E0A\u4E00\u4E2A\u5728\u4E2D\u70B9\u5904\u7B49\u5F85\u7684\u8BF7\u6C42\u7B49\u5F85\u4E86 1 \u4E2A\u78C1\u9053\u7684\u65F6\u95F4\uFF0C\u521A\u8D70\uFF0C\u4E2D\u70B9\u53C8\u6709\u65B0\u7684\u8BF7\u6C42</li><li>\u8FD9\u4E2A\u4E2D\u70B9\u7684\u65B0\u8BF7\u6C42\u9700\u8981\u7B49\u5F85 1 \u4E2A\u78C1\u9053\u7684\u65F6\u95F4\u88AB\u5904\u7406</li><li>\u53F3\u7AEF\u70B9\u7684\u65B0\u8BF7\u6C42\u7B49\u5F85 2 \u4E2A\u78C1\u9053\u7684\u65F6\u95F4\u88AB\u5904\u7406</li><li>\u53EF\u4EE5\u770B\u51FA\uFF0C\u7AEF\u70B9\u5904\u4E00\u822C\u9700\u8981\u7B49\u5F85 2 \u4E2A\u78C1\u9053\u7684\u65F6\u95F4\uFF0C\u9700\u8981\u4ECE \u53F3\u7AEF\u70B9 \u5230 \u5DE6\u7AEF\u70B9\uFF0C\u518D\u4ECE \u5DE6\u7AEF\u70B9 \u5230 \u53F3\u7AEF\u70B9</li><li>\u800C\u4E2D\u70B9\u5904\u4E00\u822C\u9700\u8981\u7B49\u5F85 1 \u4E2A\u78C1\u9053\u7684\u65F6\u95F4\uFF0C\u9700\u8981\u4ECE \u4E2D\u70B9 \u5230 \u4EFB\u610F\u4E00\u4E2A\u7AEF\u70B9\uFF0C\u518D\u4ECE \u7AEF\u70B9 \u5230\u4E2D\u70B9</li></ul></li></ul></li></ul><h3 id="_4-\u5FAA\u73AF\u626B\u63CF\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#_4-\u5FAA\u73AF\u626B\u63CF\u7B97\u6CD5" aria-hidden="true">#</a> 4) \u5FAA\u73AF\u626B\u63CF\u7B97\u6CD5</h3><ul><li>\u78C1\u5934\u603B\u662F\u4ECE\u4E00\u7AEF\u5411\u53E6\u4E00\u7AEF\u79FB\u52A8\uFF0C\u540C\u65F6\u5904\u7406\u8BE5\u65B9\u5411\u4E0A\u7684\u78C1\u9053\u8BF7\u6C42\uFF0C\u5F53\u79FB\u5230\u8FB9\u754C\u65F6\uFF0C\u5FEB\u901F\u8FD4\u56DE\u5230\u8D77\u59CB\u7AEF\uFF0C\u8FD9\u6B21\u4E0D\u5904\u7406\u4EFB\u4F55\u8BF7\u6C42</li><li>\u8FD9\u4E2A <mark>\u7AEF</mark> \u5E76\u975E\u6307\u5F53\u524D\u6240\u6709\u8BF7\u6C42\u7684\u7AEF\u70B9\uFF0C\u800C\u662F\u5B9E\u9645\u78C1\u9053\u7684 \u7AEF\u70B9\uFF0C\u56E0\u6B64 <strong>\u7AEF\u70B9\u662F\u56FA\u5B9A\u7684</strong></li><li>\u7279\u70B9\uFF1A <ul><li>\u89E3\u51B3\u56E0\u78C1\u9053\u4F4D\u7F6E\u4E0D\u540C\uFF0C\u800C\u7B49\u5F85\u7684\u65F6\u95F4\u5DEE\u5F02\uFF0C\u53EF\u4FDD\u8BC1\u6240\u6709\u4F4D\u7F6E\u8BF7\u6C42\u7B49\u5F85\u65F6\u95F4\u51E0\u4E4E\u76F8\u540C</li></ul></li></ul><h3 id="_5-look-c-look-\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#_5-look-c-look-\u7B97\u6CD5" aria-hidden="true">#</a> 5) Look &amp; C-Look \u7B97\u6CD5</h3><ul><li><strong>Look</strong><ul><li>\u548C <strong>\u626B\u63CF\u7B97\u6CD5</strong> \u7C7B\u4F3C\uFF0C\u533A\u522B\u5728\u4E8E \u8FD9\u4E2A <mark>\u7AEF</mark> \u662F\u6307\u5F53\u524D\u6240\u6709\u8BF7\u6C42\u7684\u7AEF\u70B9\uFF0C\u56E0\u6B64 <strong>\u7AEF\u70B9\u662F\u53D8\u52A8\u7684</strong></li></ul></li><li><strong>C-Look</strong><ul><li>\u548C <strong>\u5FAA\u73AF\u626B\u63CF\u7B97\u6CD5</strong> \u7C7B\u4F3C\uFF0C\u533A\u522B\u5728\u4E8E \u8FD9\u4E2A <mark>\u7AEF</mark> \u662F\u6307\u5F53\u524D\u6240\u6709\u8BF7\u6C42\u7684\u7AEF\u70B9\uFF0C\u56E0\u6B64 <strong>\u7AEF\u70B9\u662F\u53D8\u52A8\u7684</strong></li></ul></li></ul><hr><h2 id="_6-\u96F6\u62F7\u8D1D" tabindex="-1"><a class="header-anchor" href="#_6-\u96F6\u62F7\u8D1D" aria-hidden="true">#</a> 6. \u96F6\u62F7\u8D1D</h2><h3 id="_1-\u4E0D\u7528-dma" tabindex="-1"><a class="header-anchor" href="#_1-\u4E0D\u7528-dma" aria-hidden="true">#</a> 1) \u4E0D\u7528 DMA</h3><ul><li>\u4E0D\u4F7F\u7528 DMA \u4F20\u8F93\u6570\u636E\u4E4B\u524D\uFF0CIO \u8FC7\u7A0B\u5982\u4E0B\u6240\u793A\uFF1A <ul><li><img src="'+g+'" alt="img_4.png"></li></ul></li><li>\u7279\u70B9\uFF1A <ul><li>CPU \u9700\u8981\u53C2\u4E0E <strong>\u78C1\u76D8\u7F13\u51B2\u533A -&gt; \u5185\u6838\u7F13\u51B2\u533A</strong> + <strong>\u5185\u6838\u7F13\u51B2\u533A -&gt; \u7528\u6237\u7F13\u51B2\u533A</strong> <mark>2</mark> \u4E2A\u590D\u5236\u8FC7\u7A0B</li><li>CPU \u8D1F\u8D23\u6570\u636E\u7684\u590D\u5236\u5DE5\u4F5C\uFF0C\u65E0\u6CD5\u5904\u7406\u591A\u4F59\u7684\u4E8B\u60C5\uFF0C\u6027\u80FD\u8F83\u5DEE</li></ul></li></ul><h3 id="_2-\u501F\u52A9-dma-\u63A7\u5236\u5668" tabindex="-1"><a class="header-anchor" href="#_2-\u501F\u52A9-dma-\u63A7\u5236\u5668" aria-hidden="true">#</a> 2) \u501F\u52A9 DMA \u63A7\u5236\u5668</h3><ul><li>\u4F7F\u7528 DMA \u63A7\u5236\u5668\u540E\uFF0CIO \u8FC7\u7A0B\u5982\u4E0B\u6240\u793A\uFF1A <ul><li><img src="'+h+'" alt="img_5.png"></li></ul></li><li>\u7279\u70B9\uFF1A <ul><li>CPU \u4E0D\u53C2\u4E0E\u6570\u636E\u7684\u590D\u5236\u5DE5\u4F5C\uFF0C\u53EF\u4EE5\u6709\u591A\u4F59\u7684\u7A7A\u95F4\u8FDB\u884C\u5176\u4ED6\u4E8B\u52A1\uFF0C\u6027\u80FD\u63D0\u9AD8</li></ul></li><li>\u6587\u4EF6\u4F20\u8F93\u8FC7\u7A0B\uFF1A <ul><li><mark>2</mark> \u4E2A\u7CFB\u7EDF\u8C03\u7528\u6307\u4EE4 <code>read(file, tmp_buf, len);</code> &amp;&amp; <code>write(socket, tmp_buf, len);</code></li><li><mark>2 \u5927\u6B21 [4 \u5C0F\u6B21] \u7528\u6237\u6001 &amp; \u5185\u6838\u6001 \u7684\u5207\u6362\u8FC7\u7A0B</mark> + <mark>2 \u6B21 DMA \u6570\u636E\u62F7\u8D1D + 2 \u6B21 CPU \u6570\u636E\u62F7\u8D1D</mark><ul><li><code>read</code> &amp; <code>write</code> \u5404\u9700\u8981\u53D1\u751F\u7CFB\u7EDF\u8C03\u7528\uFF0C\u4ECE <strong>\u7528\u6237\u6001 -&gt; \u5185\u6838\u6001</strong> + <strong>\u5185\u6838\u6001 -&gt; \u7528\u6237\u6001</strong></li><li><strong>DMA</strong>: <strong>\u78C1\u76D8\u7F13\u51B2\u533A --&gt; \u5185\u6838\u7F13\u51B2\u533A</strong> + <strong>\u5185\u6838\u7F13\u51B2\u533A --&gt; \u7F51\u5361\u7F13\u51B2\u533A</strong></li><li><strong>CPU</strong>\uFF1A <strong>\u5185\u6838\u7F13\u51B2\u533A --&gt; \u7528\u6237\u7F13\u51B2\u533A</strong> + <strong>\u7528\u6237\u7F13\u51B2\u533A --&gt; socket \u7F13\u51B2\u533A</strong></li></ul></li><li><img src="'+w+'" alt="img_6.png"></li></ul></li></ul><h3 id="_3-mmap-write" tabindex="-1"><a class="header-anchor" href="#_3-mmap-write" aria-hidden="true">#</a> 3) mmap &amp; write</h3><ul><li><strong>\u6587\u4EF6\u4F20\u8F93\u8FC7\u7A0B</strong>\uFF1A <ul><li><mark>2</mark> \u4E2A\u7CFB\u7EDF\u8C03\u7528\u6307\u4EE4 <code>buf = mmap(file, len);</code> &amp;&amp; <code>write(sockfd, buf, len);</code></li><li><mark>2 \u5927\u6B21 [4 \u5C0F\u6B21] \u7528\u6237\u6001 &amp; \u5185\u6838\u6001 \u7684\u5207\u6362\u8FC7\u7A0B</mark> + <mark>2 \u6B21 DMA \u6570\u636E\u62F7\u8D1D + 1 \u6B21 CPU \u6570\u636E\u62F7\u8D1D</mark><ul><li><code>mmap</code> &amp; <code>write</code> \u5404\u9700\u8981\u53D1\u751F\u7CFB\u7EDF\u8C03\u7528\uFF0C\u4ECE <strong>\u7528\u6237\u6001 -&gt; \u5185\u6838\u6001</strong> + <strong>\u5185\u6838\u6001 -&gt; \u7528\u6237\u6001</strong></li><li><strong>DMA</strong>: <strong>\u78C1\u76D8\u7F13\u51B2\u533A --&gt; \u5185\u6838\u7F13\u51B2\u533A</strong> + <strong>\u5185\u6838\u7F13\u51B2\u533A --&gt; \u7F51\u5361\u7F13\u51B2\u533A</strong></li><li><strong>CPU</strong>\uFF1A \u7531\u4E8E\u5185\u6838\u7F13\u51B2\u533A &amp; \u7528\u6237\u7F13\u51B2\u533A\u5171\u4EAB\uFF0C\u56E0\u6B64\uFF0C\u53EA\u9700\u8981\u5728 <code>write</code> \u65F6\uFF0C <strong>\u5185\u6838\u7F13\u51B2\u533A --&gt; socket \u7F13\u51B2\u533A</strong></li></ul></li><li><img src="'+A+'" alt="img_7.png"></li></ul></li><li><strong>mmap \u7684\u539F\u7406</strong>\uFF1A <ul><li>\u53D1\u8D77 \u7CFB\u7EDF\u8C03\u7528\uFF0C\u5C06 <strong>\u78C1\u76D8\u6587\u4EF6\u7684\u5185\u5BB9</strong> \u6620\u5C04\u5230 <mark>\u5806\u5916\u7684\u76F4\u63A5\u5185\u5B58</mark> \u4E2D\uFF0C\u8DF3\u8FC7 <strong>\u5185\u6838\u7F13\u51B2\u533A</strong>\uFF0C\u56E0\u6B64\u4E5F\u4E0D\u9700\u8981 <strong>\u5185\u6838\u7F13\u51B2\u533A --&gt; \u7528\u6237\u7F13\u51B2\u533A</strong> \u7684\u6570\u636E\u590D\u5236\u8FC7\u7A0B</li><li>\u8FD4\u56DE \u76F4\u63A5\u5185\u5B58\u662F <mark>\u865A\u62DF\u5185\u5B58</mark>\uFF0C\u610F\u5473\u7740 byteBuffer \u4E2D\u7684\u5185\u5BB9\u4E0D\u4E00\u5B9A\u90FD\u5728 <strong>\u7269\u7406\u5185\u5B58</strong> \u4E2D <ul><li>\u8981\u8BA9\u8FD9\u4E9B\u5185\u5BB9\u52A0\u8F7D\u5230\u7269\u7406\u5185\u5B58\uFF0C\u53EF\u4EE5\u8C03\u7528 MappedByteBuffer.load()</li></ul></li><li>\u5BF9\u4E8E\u5927\u591A\u6570\u64CD\u4F5C\u7CFB\u7EDF\u6765\u8BF4\uFF0C\u5C06 \u6587\u4EF6\u6620\u5C04\u5230\u5185\u5B58 \u8FD9\u4E2A\u64CD\u4F5C\u672C\u8EAB <strong>\u5F00\u9500\u8F83\u5927</strong><ul><li>\u5982\u679C\u64CD\u4F5C\u7684\u6587\u4EF6\u5F88\u5C0F\uFF0C\u53EA\u6709\u6570\u5341KB\uFF0C\u6620\u5C04\u6587\u4EF6\u6240\u83B7\u5F97\u7684\u597D\u5904\u5C06\u4E0D\u53CA\u5176\u5F00\u9500</li><li>\u56E0\u6B64\uFF0C\u53EA\u6709\u5728\u64CD\u4F5C <mark>\u5927\u6587\u4EF6</mark> \u7684\u65F6\u5019\u624D\u5C06\u5176\u6620\u5C04\u5230 <strong>\u76F4\u63A5\u5185\u5B58</strong></li></ul></li></ul></li></ul>',24),x=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token doc-comment comment"},[s(`/**
 * `),n("span",{class:"token keyword"},"@author"),s(` : yh
 * `),n("span",{class:"token keyword"},"@date"),s(` : 2022/9/29
 * description : Java \u6587\u4EF6\u8BFB\u5199\u65B9\u5F0F\u4E3B\u8981\u5206\u4E3A\u4EE5\u4E0B\u4E09\u79CD\uFF1A
 * 1. \u666E\u901A IO - FileInputStream & FileOutputStream & RandomAccessFile(\u524D\u9762\u4E24\u79CD\u7684\u7ED3\u5408)
 * 2. FileChannel\uFF1A\u7EBF\u7A0B\u5B89\u5168\uFF0C\u591A\u7EBF\u7A0B\u4E0B\u53EA\u4F1A\u6709\u4E00\u4E2A\u7EBF\u7A0B\u80FD\u5BF9\u8BE5\u901A\u9053\u6240\u5728\u6587\u4EF6\u8FDB\u884C\u4FEE\u6539
 *    1) \u53EF\u901A\u8FC7 FileInputStream & FileOutputStream & RandomAccessFile.getChannel() \u83B7\u53D6
 *    2) \u4E5F\u53EF\u901A\u8FC7 FileChannel.open(filePath, ops) \u83B7\u53D6
 * 3. FileChannel + MappedByteBuffer\uFF0CMappedByteBuffer \u751F\u6210\u540E\uFF0CFileChannel \u4E0E MappedByteBuffer \u5C31\u65E0\u5173\u4E86
 */`)]),s(`
`),n("span",{class:"token annotation punctuation"},"@Slf4j"),s(`
`),n("span",{class:"token annotation punctuation"},"@Component"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Mmap"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"Runnable"),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token annotation punctuation"},"@SneakyThrows"),s(`
    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"execute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"execute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"String"),s(" filePath "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"src/main/resources/file/myText.txt"'),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u5F00\u542F\u6587\u4EF6 Channel"),s(`

        `),n("span",{class:"token comment"},"// method 1"),s(`
        `),n("span",{class:"token comment"},"// RandomAccessFile \u76F8\u5F53\u4E8EFileInputStream & FileOutputStream\u7684\u5C01\u88C5\u7ED3\u5408\uFF0C"),s(`
        `),n("span",{class:"token comment"},"// \u65E2\u53EF\u4EE5\u8BFB\u4E5F\u53EF\u4EE5\u5199\uFF0C\u5E76\u4E14RandomAccessFile\u652F\u6301\u79FB\u52A8\u5230\u6587\u4EF6\u6307\u5B9A\u4F4D\u7F6E\u5904\u5F00\u59CB\u8BFB\u6216\u5199"),s(`
        `),n("span",{class:"token comment"},'//RandomAccessFile randomAccessFile = new RandomAccessFile(new File(filePath), "rw");'),s(`
        `),n("span",{class:"token comment"},"//FileChannel fileChannel = randomAccessFile.getChannel();"),s(`

        `),n("span",{class:"token comment"},"// method 2"),s(`
        `),n("span",{class:"token class-name"},"FileChannel"),s(" fileChannel "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"FileChannel"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"open"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Paths"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("filePath"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
                                                    `),n("span",{class:"token class-name"},"StandardOpenOption"),n("span",{class:"token punctuation"},"."),s("CREATE"),n("span",{class:"token punctuation"},","),s(`
                                                    `),n("span",{class:"token class-name"},"StandardOpenOption"),n("span",{class:"token punctuation"},"."),s("WRITE"),n("span",{class:"token punctuation"},","),s(`
                                                    `),n("span",{class:"token class-name"},"StandardOpenOption"),n("span",{class:"token punctuation"},"."),s("READ"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u4F7F\u7528 mmap"),s(`
        `),n("span",{class:"token class-name"},"MappedByteBuffer"),s(" byteBuffer "),n("span",{class:"token operator"},"="),s(" fileChannel"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[s("FileChannel"),n("span",{class:"token punctuation"},"."),s("MapMode")]),n("span",{class:"token punctuation"},"."),s("READ_WRITE"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"1024"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u5173\u95ED fileChannel \u5BF9 byteBuffer \u65E0\u5F71\u54CD"),s(`
        fileChannel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"byte"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" bytes "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token keyword"},"byte"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1024"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u5C06 \u5C06\u6B64\u7F13\u51B2\u533A\u4E2D\u7684\u5B57\u8282\u4F20\u8F93\u5230\u7ED9\u5B9A\u7684\u76EE\u6807\u6570\u7EC4\u4E2D"),s(`
        byteBuffer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("bytes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u6253\u5370 bytes"),s(`
        `),n("span",{class:"token class-name"},"String"),s(" str "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"("),s("bytes"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"StandardCharsets"),n("span",{class:"token punctuation"},"."),s("UTF_8"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"trim"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6D4B\u8BD5\u6587\u4EF6 \u539F\u5185\u5BB9\u4E3A\uFF1A{}"'),n("span",{class:"token punctuation"},","),s(" str"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"String"),s(" addLast "),n("span",{class:"token operator"},"="),s("  "),n("span",{class:"token string"},'"\\n -------- New -----------\\n \u501A\u7B5D\u5929\u6CE2\u89C2\u6D69\u6E3A\uFF0C \u82CD\u97F3\u6380\u6D9B\u6D17\u661F\u8FB0"'),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u5199\u5165\u5185\u5BB9 - \u4ECE 0 \u5F00\u59CB\u5199\u5165\uFF0C\u8986\u76D6\u539F\u6570\u636E"),s(`
        byteBuffer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"position"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        byteBuffer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"put"),n("span",{class:"token punctuation"},"("),s("addLast"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getBytes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"StandardCharsets"),n("span",{class:"token punctuation"},"."),s("UTF_8"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u5237\u56DE\u78C1\u76D8"),s(`
        byteBuffer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"force"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),O=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"abstract"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"FileChannel"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"AbstractInterruptibleChannel"),s(`
    `),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"SeekableByteChannel"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"GatheringByteChannel"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"ScatteringByteChannel"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// \u6620\u5C04\u4E00\u65E6\u5EFA\u7ACB\uFF0C\u5C31\u4E0D\u518D\u4F9D\u8D56\u4E8E\u7528\u4E8E\u521B\u5EFA\u5B83\u7684\u6587\u4EF6\u901A\u9053\u3002\u7279\u522B\u662F\u5173\u95ED\u901A\u9053\u5BF9\u6620\u5C04\u7684\u6709\u6548\u6027\u6CA1\u6709\u5F71\u54CD\u3002"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"abstract"),s(),n("span",{class:"token class-name"},"MappedByteBuffer"),s(),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MapMode"),s(" mode"),n("span",{class:"token punctuation"},","),s(`
                                         `),n("span",{class:"token keyword"},"long"),s(" position"),n("span",{class:"token punctuation"},","),s(` 
                                         `),n("span",{class:"token keyword"},"long"),s(" size"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),F=n("ul",null,[n("li",null,[n("img",{src:y,alt:"img_4.png"})])],-1),I=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"FileChannelImpl"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"FileChannel"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token class-name"},"MappedByteBuffer"),s(),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MapMode"),s(" mode"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"long"),s(" position"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"long"),s(" size"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"ensureOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// \u786E\u4FDD\u4E3A open \u72B6\u6001"),s(`
        `),n("span",{class:"token comment"},"// \u7279\u6B8A\u60C5\u51B5\u7279\u5224"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("mode "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NullPointerException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Mode is null"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("position "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"0L"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IllegalArgumentException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Negative position"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("size "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"0L"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IllegalArgumentException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Negative size"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("position "),n("span",{class:"token operator"},"+"),s(" size "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IllegalArgumentException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Position + size overflow"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("size "),n("span",{class:"token operator"},">"),s(),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},"."),s("MAX_VALUE"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IllegalArgumentException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Size exceeds Integer.MAX_VALUE"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// mmap \u6A21\u5F0F\u8BBE\u7F6E\uFF1A"),s(`
        `),n("span",{class:"token comment"},"// \u53EA\u8BFB\uFF1A\u4EFB\u4F55\u4FEE\u6539\u7ED3\u679C\u7F13\u51B2\u533A\u7684\u5C1D\u8BD5\u90FD\u5C06\u5BFC\u81F4\u629B\u51FA java.nio.ReadOnlyBufferException\u3002"),s(`
        `),n("span",{class:"token comment"},"// \u8BFB\u5199\uFF1A\u5BF9\u7ED3\u679C\u7F13\u51B2\u533A\u6240\u505A\u7684\u66F4\u6539\u6700\u7EC8\u5C06\u4F20\u64AD\u5230\u6587\u4EF6\uFF1B\u5B83\u4EEC\u53EF\u80FD\u5BF9\u6620\u5C04\u76F8\u540C\u6587\u4EF6\u7684\u5176\u4ED6\u7A0B\u5E8F\u53EF\u89C1\uFF0C\u4E5F\u53EF\u80FD\u4E0D\u53EF\u89C1\u3002"),s(`
        `),n("span",{class:"token comment"},"// \u79C1\u6709\uFF1A\u5BF9\u7ED3\u679C\u7F13\u51B2\u533A\u6240\u505A\u7684\u66F4\u6539\u4E0D\u4F1A\u4F20\u64AD\u5230\u6587\u4EF6\uFF0C\u5E76\u4E14\u5BF9\u6620\u5C04\u540C\u4E00\u6587\u4EF6\u7684\u5176\u4ED6\u7A0B\u5E8F\u4E0D\u53EF\u89C1\uFF1B\u5B83\u4EEC\u5C06\u5BFC\u81F4\u521B\u5EFA\u7F13\u51B2\u533A\u4FEE\u6539\u90E8\u5206\u7684\u79C1\u6709\u526F\u672C\u3002 "),s(`
        `),n("span",{class:"token keyword"},"int"),s(" imode "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("mode "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"MapMode"),n("span",{class:"token punctuation"},"."),s("READ_ONLY"),n("span",{class:"token punctuation"},")"),s(`
            imode `),n("span",{class:"token operator"},"="),s(" MAP_RO"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("mode "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"MapMode"),n("span",{class:"token punctuation"},"."),s("READ_WRITE"),n("span",{class:"token punctuation"},")"),s(`
            imode `),n("span",{class:"token operator"},"="),s(" MAP_RW"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("mode "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"MapMode"),n("span",{class:"token punctuation"},"."),s("PRIVATE"),n("span",{class:"token punctuation"},")"),s(`
            imode `),n("span",{class:"token operator"},"="),s(" MAP_PV"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"assert"),s(),n("span",{class:"token punctuation"},"("),s("imode "),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("mode "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token class-name"},"MapMode"),n("span",{class:"token punctuation"},"."),s("READ_ONLY"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token operator"},"!"),s("writable"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NonWritableChannelException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("readable"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NonReadableChannelException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"long"),s(" addr "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"int"),s(" ti "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"beginBlocking"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            ti `),n("span",{class:"token operator"},"="),s(" threads"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),n("span",{class:"token function"},"isOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`

            `),n("span",{class:"token keyword"},"long"),s(" mapSize"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"int"),s(" pagePosition"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"synchronized"),s(),n("span",{class:"token punctuation"},"("),s("positionLock"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"long"),s(" filesize"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token comment"},"// \u83B7\u53D6 \u6587\u4EF6\u5927\u5C0F"),s(`
                `),n("span",{class:"token keyword"},"do"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    filesize `),n("span",{class:"token operator"},"="),s(" nd"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),s("fd"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("filesize "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"IOStatus"),n("span",{class:"token punctuation"},"."),s("INTERRUPTED"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token function"},"isOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),n("span",{class:"token function"},"isOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`

                `),n("span",{class:"token comment"},"// \u6587\u4EF6\u5927\u5C0F < \u7F13\u51B2\u533A\u5927\u5C0F"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("filesize "),n("span",{class:"token operator"},"<"),s(" position "),n("span",{class:"token operator"},"+"),s(" size"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(` 
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("writable"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Channel not open for writing "'),s(),n("span",{class:"token operator"},"+"),s(`
                            `),n("span",{class:"token string"},'"- cannot extend file to required size"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                    `),n("span",{class:"token keyword"},"int"),s(" rv"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token keyword"},"do"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        rv `),n("span",{class:"token operator"},"="),s(" nd"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"truncate"),n("span",{class:"token punctuation"},"("),s("fd"),n("span",{class:"token punctuation"},","),s(" position "),n("span",{class:"token operator"},"+"),s(" size"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("rv "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token class-name"},"IOStatus"),n("span",{class:"token punctuation"},"."),s("INTERRUPTED"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token function"},"isOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),n("span",{class:"token function"},"isOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`

                `),n("span",{class:"token comment"},"// \u6587\u4EF6\u4E3A\u7A7A\uFF0C\u76F4\u63A5\u5206\u914D 0 \u5927\u5C0F\u7684\u76F4\u63A5\u5185\u5B58"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("size "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    addr `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token class-name"},"FileDescriptor"),s(" dummy "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"FileDescriptor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("writable"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token punctuation"},"("),s("imode "),n("span",{class:"token operator"},"=="),s(" MAP_RO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"newMappedByteBufferR"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(" dummy"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token keyword"},"else"),s(`
                        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"newMappedByteBuffer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(" dummy"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`

                pagePosition `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),s("position "),n("span",{class:"token operator"},"%"),s(" allocationGranularity"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"long"),s(" mapPosition "),n("span",{class:"token operator"},"="),s(" position "),n("span",{class:"token operator"},"-"),s(" pagePosition"),n("span",{class:"token punctuation"},";"),s(`
                mapSize `),n("span",{class:"token operator"},"="),s(" size "),n("span",{class:"token operator"},"+"),s(" pagePosition"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    addr `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"map0"),n("span",{class:"token punctuation"},"("),s("imode"),n("span",{class:"token punctuation"},","),s(" mapPosition"),n("span",{class:"token punctuation"},","),s(" mapSize"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// \u2606\u2606\u2606"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"OutOfMemoryError"),s(" x"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"gc"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// OOM \u65F6\uFF0C\u5F3A\u5236 GC\uFF0C\u5E76\u5C1D\u8BD5\u91CD\u65B0 mmap \u6620\u5C04"),s(`
                    `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token class-name"},"Thread"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"sleep"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"InterruptedException"),s(" y"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token class-name"},"Thread"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"currentThread"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"interrupt"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                    `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        addr `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"map0"),n("span",{class:"token punctuation"},"("),s("imode"),n("span",{class:"token punctuation"},","),s(" mapPosition"),n("span",{class:"token punctuation"},","),s(" mapSize"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"OutOfMemoryError"),s(" y"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token comment"},"// GC \u540E\uFF0C\u518D\u6B21 mmap \u5C1D\u8BD5\u540E\uFF0C\u4ECD OOM\uFF0C\u5219\u629B\u51FA\u5F02\u5E38"),s(`
                        `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Map failed"'),n("span",{class:"token punctuation"},","),s(" y"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(` 

            `),n("span",{class:"token comment"},"// \u5728 Windows \u548C\u53EF\u80FD\u7684\u5176\u4ED6\u5E73\u53F0\u4E0A\uFF0C\u6211\u4EEC\u9700\u8981\u4E00\u4E2A\u6253\u5F00\u7684\u6587\u4EF6\u63CF\u8FF0\u7B26\u6765\u8FDB\u884C\u4E00\u4E9B\u6620\u5C04\u64CD\u4F5C"),s(`
            `),n("span",{class:"token class-name"},"FileDescriptor"),s(" mfd"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
                mfd `),n("span",{class:"token operator"},"="),s(" nd"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"duplicateForMapping"),n("span",{class:"token punctuation"},"("),s("fd"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"IOException"),s(" ioe"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"unmap0"),n("span",{class:"token punctuation"},"("),s("addr"),n("span",{class:"token punctuation"},","),s(" mapSize"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"throw"),s(" ioe"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`

            `),n("span",{class:"token keyword"},"assert"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"IOStatus"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"checkAll"),n("span",{class:"token punctuation"},"("),s("addr"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"assert"),s(),n("span",{class:"token punctuation"},"("),s("addr "),n("span",{class:"token operator"},"%"),s(" allocationGranularity "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"int"),s(" isize "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),n("span",{class:"token punctuation"},")"),s("size"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"Unmapper"),s(" um "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Unmapper"),n("span",{class:"token punctuation"},"("),s("addr"),n("span",{class:"token punctuation"},","),s(" mapSize"),n("span",{class:"token punctuation"},","),s(" isize"),n("span",{class:"token punctuation"},","),s(" mfd"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token comment"},"// \u6839\u636E mmap \u5206\u914D\u7684 addr \u8FD4\u56DE\u7ED3\u679C"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("writable"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token punctuation"},"("),s("imode "),n("span",{class:"token operator"},"=="),s(" MAP_RO"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"newMappedByteBufferR"),n("span",{class:"token punctuation"},"("),s("isize"),n("span",{class:"token punctuation"},","),s(`
                                                 addr `),n("span",{class:"token operator"},"+"),s(" pagePosition"),n("span",{class:"token punctuation"},","),s(`
                                                 mfd`),n("span",{class:"token punctuation"},","),s(`
                                                 um`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token class-name"},"Util"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"newMappedByteBuffer"),n("span",{class:"token punctuation"},"("),s("isize"),n("span",{class:"token punctuation"},","),s(`
                                                addr `),n("span",{class:"token operator"},"+"),s(" pagePosition"),n("span",{class:"token punctuation"},","),s(`
                                                mfd`),n("span",{class:"token punctuation"},","),s(`
                                                um`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"finally"),s(),n("span",{class:"token punctuation"},"{"),s(`
            threads`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),s("ti"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token function"},"endBlocking"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"IOStatus"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"checkAll"),n("span",{class:"token punctuation"},"("),s("addr"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    
    `),n("span",{class:"token comment"},"// \u672C\u5730\u65B9\u6CD5"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"native"),s(),n("span",{class:"token keyword"},"long"),s(),n("span",{class:"token function"},"map0"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),s(" prot"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"long"),s(" position"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"long"),s(" length"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),M=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Util"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token class-name"},"MappedByteBuffer"),s(),n("span",{class:"token function"},"newMappedByteBufferR"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),s(" size"),n("span",{class:"token punctuation"},","),s(` 
                                                 `),n("span",{class:"token keyword"},"long"),s(" addr"),n("span",{class:"token punctuation"},","),s(`
                                                 `),n("span",{class:"token class-name"},"FileDescriptor"),s(" fd"),n("span",{class:"token punctuation"},","),s(`
                                                 `),n("span",{class:"token class-name"},"Runnable"),s(" unmapper"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"MappedByteBuffer"),s(" dbb"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("directByteBufferRConstructor "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token function"},"initDBBRConstructor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
            dbb `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"MappedByteBuffer"),n("span",{class:"token punctuation"},")"),s("directByteBufferRConstructor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"newInstance"),n("span",{class:"token punctuation"},"("),s(`
              `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Object"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token punctuation"},"{"),s(" size"),n("span",{class:"token punctuation"},","),s(`
                             addr`),n("span",{class:"token punctuation"},","),s(`
                             fd`),n("span",{class:"token punctuation"},","),s(`
                             unmapper `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"InstantiationException"),s(),n("span",{class:"token operator"},"|"),s(`
                 `),n("span",{class:"token class-name"},"IllegalAccessException"),s(),n("span",{class:"token operator"},"|"),s(`
                 `),n("span",{class:"token class-name"},"InvocationTargetException"),s(" e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"InternalError"),n("span",{class:"token punctuation"},"("),s("e"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"return"),s(" dbb"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),P=l(`<h3 id="_4-sendfile" tabindex="-1"><a class="header-anchor" href="#_4-sendfile" aria-hidden="true">#</a> 4) sendfile</h3><ol><li><mark>1</mark> \u4E2A \u7CFB\u7EDF\u8C03\u7528\u51FD\u6570 [<code>Linux 2.1</code> \u5F00\u59CB\u63D0\u4F9B]</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// out_fd : \u76EE\u7684\u6587\u4EF6\u63CF\u8FF0\u7B26</span>
<span class="token comment">// in_fd: \u6E90\u6587\u4EF6\u63CF\u8FF0\u7B26</span>
<span class="token comment">// offset: \u6E90\u6587\u4EF6\u5185\u504F\u79FB\u91CF</span>
<span class="token comment">// count: \u6253\u7B97\u590D\u5236\u6570\u636E\u957F\u5EA6</span>
<span class="token comment">// ssize_t: \u5B9E\u9645\u4E0A\u590D\u5236\u6570\u636E\u7684\u957F\u5EA6</span>
<span class="token class-name">ssize_t</span> <span class="token function">sendfile</span><span class="token punctuation">(</span><span class="token keyword">int</span> out_fd<span class="token punctuation">,</span> <span class="token keyword">int</span> in_fd<span class="token punctuation">,</span> <span class="token class-name">off_t</span> <span class="token operator">*</span>offset<span class="token punctuation">,</span> <span class="token class-name">size_t</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u5BF9\u5E94 Java NIO \u5E93\u4E2D\u7684 <code>transferTo</code> \u51FD\u6570</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Overridepublic</span> 
<span class="token keyword">long</span> <span class="token function">transferFrom</span><span class="token punctuation">(</span><span class="token class-name">FileChannel</span> fileChannel<span class="token punctuation">,</span> <span class="token keyword">long</span> position<span class="token punctuation">,</span> <span class="token keyword">long</span> count<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> fileChannel<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> count<span class="token punctuation">,</span> socketChannel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><mark>1 \u5927\u6B21 [2 \u5C0F\u6B21] \u7528\u6237\u6001 &amp; \u5185\u6838\u6001 \u7684\u5207\u6362\u8FC7\u7A0B</mark> + <mark>2 \u6B21 DMA \u6570\u636E\u62F7\u8D1D + 1 \u6B21 CPU \u6570\u636E\u62F7\u8D1D</mark></li></ol><ul><li><code>sendfile</code> \u53D1\u751F\u4E00\u6B21\u7CFB\u7EDF\u8C03\u7528</li></ul><ol start="4"><li><img src="`+f+'" alt="img_8.png"></li></ol>',8),U=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token doc-comment comment"},[s(`/**
 * `),n("span",{class:"token keyword"},"@author"),s(` : yh
 * `),n("span",{class:"token keyword"},"@date"),s(` : 2022/9/29
 * description : \u5C06 \u78C1\u76D8\u6587\u4EF6\u7684\u5185\u5BB9 \u76F4\u63A5\u53D1\u9001\u5230 \u670D\u52A1\u7AEF\uFF0C\u53EA\u9700\u8981\u4ECE \u5185\u6838\u7F13\u51B2\u533A \u590D\u5236\u5230 socket \u7F13\u51B2\u533A
 * \u5982\u679C\u6709 SG-DMA\uFF0C\u5219 CPU \u65E0\u9700\u53C2\u4E0E \u5185\u6838\u7F13\u51B2\u533A \u590D\u5236\u5230 socket \u7F13\u51B2\u533A \u7684\u5DE5\u4F5C\uFF0C\u7531 DMA \u5B8C\u6210
 */`)]),s(`
`),n("span",{class:"token annotation punctuation"},"@Slf4j"),s(`
`),n("span",{class:"token annotation punctuation"},"@Component"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"SendFile"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"Runnable"),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token annotation punctuation"},"@Override"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"execute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"IOException"),s(" e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            e`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"printStackTrace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"execute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"String"),s(" filePath "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"src/main/resources/file/myText.txt"'),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u5F00\u542F\u6587\u4EF6 Channel"),s(`
        `),n("span",{class:"token class-name"},"RandomAccessFile"),s(" randomAccessFile "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"RandomAccessFile"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"File"),n("span",{class:"token punctuation"},"("),s("filePath"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"rw"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"FileChannel"),s(" fileChannel "),n("span",{class:"token operator"},"="),s(" randomAccessFile"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getChannel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u5F00\u542F SocketChannel"),s(`
        `),n("span",{class:"token class-name"},"SocketChannel"),s(" socketChannel "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"SocketChannel"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"open"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        socketChannel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"connect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"InetSocketAddress"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"9502"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u7528 transferTo \u4EE3\u66FF\u539F\u672C\u7684 write"),s(`
        fileChannel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"transferTo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(" randomAccessFile"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"length"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" socketChannel"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        fileChannel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"abstract"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"FileChannel"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"AbstractInterruptibleChannel"),s(`
    `),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},"SeekableByteChannel"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"GatheringByteChannel"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"ScatteringByteChannel"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// \u5C06\u6B64\u901A\u9053\u7684\u6587\u4EF6\u4E2D\u7684\u5B57\u8282 \u4F20\u8F93\u5230 \u7ED9\u5B9A\u7684 \u53EF\u5199\u5B57\u8282\u901A\u9053"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"abstract"),s(),n("span",{class:"token keyword"},"long"),s(),n("span",{class:"token function"},"transferTo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"long"),s(" position"),n("span",{class:"token punctuation"},","),s(` 
                                    `),n("span",{class:"token keyword"},"long"),s(" count"),n("span",{class:"token punctuation"},","),s(`
                                    `),n("span",{class:"token class-name"},"WritableByteChannel"),s(" target"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),z=n("div",{class:"language-java ext-java line-numbers-mode"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"FileChannelImpl"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"FileChannel"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"long"),s(),n("span",{class:"token function"},"transferTo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"long"),s(" position"),n("span",{class:"token punctuation"},","),s(` 
                           `),n("span",{class:"token keyword"},"long"),s(" count"),n("span",{class:"token punctuation"},","),s(`
                           `),n("span",{class:"token class-name"},"WritableByteChannel"),s(" target"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"ensureOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u7279\u6B8A\u60C5\u51B5\u7279\u5224"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("target"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isOpen"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"ClosedChannelException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("readable"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NonReadableChannelException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("target "),n("span",{class:"token keyword"},"instanceof"),s(),n("span",{class:"token class-name"},"FileChannelImpl"),s(),n("span",{class:"token operator"},"&&"),s(`
            `),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"FileChannelImpl"),n("span",{class:"token punctuation"},")"),s("target"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("writable"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"NonWritableChannelException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("position "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token punctuation"},"("),s("count "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"IllegalArgumentException"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"long"),s(" sz "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"size"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("position "),n("span",{class:"token operator"},">"),s(" sz"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"int"),s(" icount "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),n("span",{class:"token punctuation"},")"),n("span",{class:"token class-name"},"Math"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"min"),n("span",{class:"token punctuation"},"("),s("count"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},"."),s("MAX_VALUE"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("sz "),n("span",{class:"token operator"},"-"),s(" position"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"<"),s(" icount"),n("span",{class:"token punctuation"},")"),s(`
            icount `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"("),s("sz "),n("span",{class:"token operator"},"-"),s(" position"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"long"),s(" n"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u5982\u679C\u5185\u6838\u652F\u6301\uFF0C\u5C1D\u8BD5\u76F4\u63A5\u4F20\u8F93 - \u8C03\u7528 native transferTo0"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"transferToDirectly"),n("span",{class:"token punctuation"},"("),s("position"),n("span",{class:"token punctuation"},","),s(" icount"),n("span",{class:"token punctuation"},","),s(" target"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"return"),s(" n"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u5C1D\u8BD5\u6620\u5C04\u4F20\u8F93\uFF0C\u4F46\u4EC5\u9650\u4E8E\u53D7\u4FE1\u4EFB\u7684\u901A\u9053\u7C7B\u578B - \u501F\u52A9 map + write"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("n "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"transferToTrustedChannel"),n("span",{class:"token punctuation"},"("),s("position"),n("span",{class:"token punctuation"},","),s(" icount"),n("span",{class:"token punctuation"},","),s(" target"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"return"),s(" n"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u4E0D\u53D7\u4FE1\u4EFB\u76EE\u6807\u7684\u6162\u901F\u8DEF\u5F84 - \u57FA\u4E8E read + write"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"transferToArbitraryChannel"),n("span",{class:"token punctuation"},"("),s("position"),n("span",{class:"token punctuation"},","),s(" icount"),n("span",{class:"token punctuation"},","),s(" target"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    
    `),n("span",{class:"token comment"},"// \u672C\u5730\u65B9\u6CD5"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"native"),s(),n("span",{class:"token keyword"},"long"),s(),n("span",{class:"token function"},"transferTo0"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"FileDescriptor"),s(" src"),n("span",{class:"token punctuation"},","),s(` 
                                    `),n("span",{class:"token keyword"},"long"),s(" position"),n("span",{class:"token punctuation"},","),s(`
                                    `),n("span",{class:"token keyword"},"long"),s(" count"),n("span",{class:"token punctuation"},","),s(` 
                                    `),n("span",{class:"token class-name"},"FileDescriptor"),s(" dst"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),R=l(`<h3 id="_5-sg-dma" tabindex="-1"><a class="header-anchor" href="#_5-sg-dma" aria-hidden="true">#</a> 5) SG-DMA</h3><ol><li>\u67E5\u770B\u7F51\u5361\u662F\u5426\u652F\u6301 SC-DMA \u6280\u672F [<code>Linux 2.4</code> \u5F00\u59CB\u652F\u6301]</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>$ ethtool <span class="token operator">-</span>k eth0 <span class="token operator">|</span> grep scatter<span class="token operator">-</span>gather
scatter<span class="token operator">-</span>gather<span class="token operator">:</span> on
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><mark>1</mark> \u4E2A \u7CFB\u7EDF\u8C03\u7528\u51FD\u6570</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// out_fd : \u76EE\u7684\u6587\u4EF6\u63CF\u8FF0\u7B26</span>
<span class="token comment">// in_fd: \u6E90\u6587\u4EF6\u63CF\u8FF0\u7B26</span>
<span class="token comment">// offset: \u6E90\u6587\u4EF6\u5185\u504F\u79FB\u91CF</span>
<span class="token comment">// count: \u6253\u7B97\u590D\u5236\u6570\u636E\u957F\u5EA6</span>
<span class="token comment">// ssize_t: \u5B9E\u9645\u4E0A\u590D\u5236\u6570\u636E\u7684\u957F\u5EA6</span>
<span class="token class-name">ssize_t</span> <span class="token function">sendfile</span><span class="token punctuation">(</span><span class="token keyword">int</span> out_fd<span class="token punctuation">,</span> <span class="token keyword">int</span> in_fd<span class="token punctuation">,</span> <span class="token class-name">off_t</span> <span class="token operator">*</span>offset<span class="token punctuation">,</span> <span class="token class-name">size_t</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><mark>1 \u5927\u6B21 [2 \u5C0F\u6B21] \u7528\u6237\u6001 &amp; \u5185\u6838\u6001 \u7684\u5207\u6362\u8FC7\u7A0B</mark> + <mark>1 \u6B21 DMA \u6570\u636E\u62F7\u8D1D + 1 \u6B21 SG-DMA \u6570\u636E\u62F7\u8D1D</mark></li></ol><ul><li>DMA: <strong>\u78C1\u76D8\u7F13\u51B2\u533A --&gt; \u5185\u6838\u7F13\u51B2\u533A</strong></li><li>SG-DMA: <strong>\u5185\u6838\u7F13\u51B2\u533A --&gt; \u7F51\u5361\u7F13\u51B2\u533A</strong> \u5728\u6B64\u4E4B\u524D\uFF0CCPU \u5C06 <strong>\u5185\u6838\u7F13\u51B2\u533A\u7684\u63CF\u8FF0\u7B26 &amp; \u6570\u636E\u957F\u5EA6</strong> \u4F20\u5230 <strong>socket \u7F13\u51B2\u533A</strong></li></ul><ol start="4"><li><img src="`+E+'" alt="img_9.png"></li></ol><h3 id="_5-\u96F6\u62F7\u8D1D\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_5-\u96F6\u62F7\u8D1D\u5206\u6790" aria-hidden="true">#</a> 5) \u96F6\u62F7\u8D1D\u5206\u6790</h3><ol><li>\u9002\u7528\u573A\u666F\uFF1A <ul><li><mark>\u5C0F\u6587\u4EF6\u7684\u62F7\u8D1D\u8FC7\u7A0B</mark></li><li><strong>\u5927\u6587\u4EF6</strong>\u7684\u62F7\u8D1D\u91C7\u7528 <strong>\u5F02\u6B65 IO</strong>\uFF0C<mark>\u76F4\u63A5\u5C06\u6570\u636E\u4ECE \u78C1\u76D8\u7F13\u51B2\u533A \u590D\u5236\u5230 \u7528\u6237\u7F13\u51B2\u533A\uFF0C\u4E0D\u7ECF\u8FC7 \u5185\u6838\u7F13\u51B2\u533A</mark>\uFF0C\u4E0D\u7ECF\u8FC7 \u5185\u6838\u7F13\u51B2\u533A \u7684 IO \u4E5F\u79F0\u4E3A <strong>\u76F4\u63A5 IO</strong></li></ul></li><li>\u539F\u56E0\uFF1A <ul><li>\u6570\u636E\u4ECE <strong>\u78C1\u76D8\u7F13\u51B2\u533A \u590D\u5236\u5230 \u5185\u6838\u7F13\u51B2\u533A</strong>\uFF0C\u8FD9\u4E2A\u5185\u6838\u7F13\u51B2\u533A\u5B9E\u9645\u5C31\u662F <code>PageCache</code>\uFF0C\u5373 <strong>\u78C1\u76D8\u9AD8\u901F\u7F13\u5B58</strong></li><li><code>PageCache</code> \u5927\u5C0F\u6709\u9650\uFF0C\u6700\u597D\u662F\u5B58\u653E\u591A\u4E2A\u5C0F\u7684\u70ED\u70B9\u6570\u636E\uFF0C\u800C\u5927\u6587\u4EF6\u4F1A\u5BFC\u81F4 PageCache \u4E2D\u70ED\u70B9\u6570\u636E\u88AB\u8986\u76D6\uFF0CPageCache \u6548\u679C\u5927\u5927\u6298\u6263</li></ul></li><li>\u5E94\u7528\u573A\u666F\uFF1A <ul><li><code>Kafka</code></li><li><code>Nginx</code></li></ul></li></ol>',10);function T(j,N){const i=u("Mermaid"),p=u("Tabs");return k(),d("div",null,[_,c(i,{id:"mermaid-64a55a5e",code:"flowchart%20TB%0Asubgraph%20one%5B%E7%94%A8%E6%88%B7%E6%80%81%5D%0AAA%5B%E8%BF%9B%E7%A8%8B%5D%0Aend%0Asubgraph%20two%5B%E5%86%85%E6%A0%B8%E6%80%81%5D%0AA%5B%E5%A4%96%E9%83%A8%E8%AE%BE%E5%A4%87%20%5Cn%20%E5%90%AB%E4%B8%AD%E6%96%AD%E6%8E%A7%E5%88%B6%E5%99%A8%5D%20--%3E%20%7C%201.%20%E6%95%B0%E6%8D%AE%E5%B0%B1%E7%BB%AA%20%E9%80%9A%E7%9F%A5%20CPU%20%7C%20B%5BCPU%5D%0AC%5B%E4%BF%9D%E5%AD%98%E5%BA%94%E7%94%A8%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%5D%0AD%5B%E5%85%B7%E4%BD%93%E7%9B%B8%E5%85%B3%E5%A4%84%E7%90%86%5D%0AE%5B%E6%81%A2%E5%A4%8D%E5%BA%94%E7%94%A8%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%5D%0Asubgraph%20three%5B%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%5D%0AAAA%5B%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%5D%0Aend%0Aend%0AB%20--%3E%20%7C%202.%20%E5%8F%91%E5%87%BA%E4%B8%AD%E6%96%AD%20%7C%20AA%0AAA%20--%3E%20%7C%203.%20%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%AD%20%7C%20C%0AC%20--%3E%20%7C%204.%20%E8%B0%83%E7%94%A8%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E8%AF%A5%E8%AE%BE%E5%A4%87%E5%AF%B9%E5%BA%94%E7%9A%84%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%20%7C%20AAA%0AAAA%20--%3E%20%7C%205.%20%E8%BF%9B%E8%A1%8C%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%20%7C%20D%0AD%20--%3E%20%7C%206.%20%E6%81%A2%E5%A4%8D%E7%8E%B0%E5%9C%BA%20%7C%20E%0AE%20--%3E%20AA%0A"}),C,c(i,{id:"mermaid-64a5512a",code:"flowchart%20TB%0Asubgraph%20one%5B%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%5D%0AAAA(%E7%94%A8%E6%88%B7%E7%A8%8B%E5%BA%8F)%0Aend%0Asubgraph%20two%5B%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%5D%0AA%5B%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3%5D%20---%20B%5B%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%5D%0Asubgraph%20twoone%5B%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%5D%0AExt%0ANFS%0Aend%0AC%5B%E9%A1%B5%E7%BC%93%E5%AD%98%5D%20---%20D%5B%E9%80%9A%E7%94%A8%E5%9D%97%E5%B1%82%5D%0AD%20---%20E%5B%E5%9D%97%E8%AE%BE%E5%A4%87%20IO%20%E8%B0%83%E5%BA%A6%E5%B1%82%5D%0AE%20---%20F%5B%E5%9D%97%E8%AE%BE%E5%A4%87%20%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%5D%0Aend%0Asubgraph%20three%5B%E7%89%A9%E7%90%86%E7%A9%BA%E9%97%B4%5D%0AAA%7B%7B%E5%9D%97%E8%AE%BE%E5%A4%87%E4%B8%AD%E6%96%AD%E6%8E%A7%E5%88%B6%E5%99%A8%7D%7D%0Asubgraph%20threeone%5B%E8%AE%BE%E5%A4%87%E6%8E%A7%E5%88%B6%E5%99%A8%5D%0Adirection%20LR%0AX%5B%E7%8A%B6%E6%80%81%E5%AF%84%E5%AD%98%E5%99%A8%5D%0AY%5B%E5%91%BD%E4%BB%A4%E5%AF%84%E5%AD%98%E5%99%A8%5D%0AM%5B%E6%95%B0%E6%8D%AE%E5%AF%84%E5%AD%98%E5%99%A8%5D%0AN%5B%E6%95%B0%E6%8D%AE%E7%BC%93%E5%86%B2%E5%8C%BA%5D%0Aend%0AAA%20---%20threeone%0Athreeone%20---%20BB%7B%7B%E7%A3%81%E7%9B%98%E8%AE%BE%E5%A4%87%7D%7D%0Aend%0AAAA%20---%20A%0AB%20---%20twoone%0Atwoone%20---%20C%0AF%20---%20AA%0A"}),D,c(p,{data:[{title:"\u5E94\u7528"},{title:"FileChannel"},{title:"FileChannelImpl"},{title:"MappedByteBuffer"}],"tab-id":"code17"},{tab0:a(({title:t,value:e,isActive:o})=>[x]),tab1:a(({title:t,value:e,isActive:o})=>[O]),tab2:a(({title:t,value:e,isActive:o})=>[F,I]),tab3:a(({title:t,value:e,isActive:o})=>[M]),_:1}),P,c(p,{data:[{title:"\u5E94\u7528"},{title:"FileChannel"},{title:"FileChannelImpl"}],"tab-id":"code9"},{tab0:a(({title:t,value:e,isActive:o})=>[U]),tab1:a(({title:t,value:e,isActive:o})=>[S]),tab2:a(({title:t,value:e,isActive:o})=>[z]),_:1}),R])}var W=r(B,[["render",T],["__file","io.html.vue"]]);export{W as default};
