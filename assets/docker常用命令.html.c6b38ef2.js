import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{r as o,o as l,c,a as n,b as i,d as s,e as t}from"./app.5aebcaaa.js";var p="/assets/img_2.b63726fd.png",r="/assets/img.e2b5e9ca.png",d="/assets/img_1.6da582ad.png";const u={},m=n("h1",{id:"docker\u5E38\u7528\u547D\u4EE4",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#docker\u5E38\u7528\u547D\u4EE4","aria-hidden":"true"},"#"),s(" \u{1F329}\uFE0F docker\u5E38\u7528\u547D\u4EE4")],-1),k=n("h3",{id:"_1-docker-ce-\u5B89\u88C5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-docker-ce-\u5B89\u88C5","aria-hidden":"true"},"#"),s(" 1. docker-ce \u5B89\u88C5")],-1),v=n("p",null,"[\u6CE8]\uFF1A\u57FA\u4E8E Alibaba Cloud Linux 3",-1),b={href:"https://help.aliyun.com/document_detail/264695.html",target:"_blank",rel:"noopener noreferrer"},h=s("\u5B98\u7F51\u94FE\u63A5\u6559\u7A0B"),g=t(`<ul><li><p>\u6DFB\u52A0docker-ce\u7684dnf\u6E90</p><ul><li><code>dnf config-manager --add-repo=https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</code></li></ul></li><li><p>\u5B89\u88C5Alibaba Cloud Linux 3\u4E13\u7528\u7684dnf\u6E90\u517C\u5BB9\u63D2\u4EF6</p><ul><li><code>dnf -y install dnf-plugin-releasever-adapter --repo alinux3-plus</code></li></ul></li><li><p>\u5B89\u88C5docker-ce</p><ul><li><code>dnf -y install docker-ce --nobest</code></li></ul></li><li><p>\u67E5\u770Bdocker-ce\u662F\u5426\u6210\u529F\u5B89\u88C5</p><ul><li><code>dnf list docker-ce</code></li></ul></li></ul><hr><h3 id="_2-docker-\u5B88\u62A4\u8FDB\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-docker-\u5B88\u62A4\u8FDB\u7A0B" aria-hidden="true">#</a> 2. docker \u5B88\u62A4\u8FDB\u7A0B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start <span class="token function">docker</span>     <span class="token comment">#\u8FD0\u884CDocker\u5B88\u62A4\u8FDB\u7A0B</span>

systemctl stop <span class="token function">docker</span>      <span class="token comment">#\u505C\u6B62Docker\u5B88\u62A4\u8FDB\u7A0B</span>

systemctl restart <span class="token function">docker</span>   <span class="token comment">#\u91CD\u542FDocker\u5B88\u62A4\u8FDB\u7A0B</span>

systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>    <span class="token comment">#\u8BBE\u7F6EDocker\u5F00\u673A\u81EA\u542F\u52A8</span>

systemctl status <span class="token function">docker</span>    <span class="token comment">#\u67E5\u770BDocker\u7684\u8FD0\u884C\u72B6\u6001</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3-\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_3-\u955C\u50CF" aria-hidden="true">#</a> 3. \u955C\u50CF</h3><ul><li><p><code>docker pull mysql:latest</code> - \u4E0B\u8F7D\u955C\u50CF[\u53EF\u5230 docker hub \u5B98\u7F51\u67E5\u770B\u955C\u50CF\u7248\u672C &amp; pull\u8BED\u53E5]</p></li><li><p><code>docker images</code> - \u67E5\u770B\u5DF2\u6709\u955C\u50CF</p></li></ul><p><img src="`+p+`" alt="img_2.png"></p><ul><li><p><code>docker rmi mysql:latest</code> - \u5220\u9664\u6307\u5B9A\u955C\u50CF</p></li><li><p><code>docker build -t muran/muran-auth .</code> - \u6839\u636E\u5F53\u524D\u76EE\u5F55\u4E0B\u7684 Dockerfile \u6587\u4EF6\u6784\u5EFA docker \u955C\u50CF</p></li><li><p>Dockerfile \u6587\u4EF6\u5F62\u5F0F</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code># \u8BE5\u955C\u50CF\u9700\u8981\u4F9D\u8D56\u7684\u57FA\u7840\u955C\u50CF
FROM java<span class="token operator">:</span><span class="token number">8</span>
# \u5C06\u5F53\u524D\u76EE\u5F55\u4E0B\u7684jar\u5305\u590D\u5236\u5230docker\u5BB9\u5668\u7684<span class="token operator">/</span>\u76EE\u5F55\u4E0B
ADD muran<span class="token operator">-</span>auth<span class="token operator">-</span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span>SNAPSHOT<span class="token punctuation">.</span>jar <span class="token operator">/</span>muran<span class="token operator">-</span>auth<span class="token punctuation">.</span>jar
# \u8FD0\u884C\u8FC7\u7A0B\u4E2D\u521B\u5EFA\u4E00\u4E2Amall<span class="token operator">-</span>tiny<span class="token operator">-</span>docker<span class="token operator">-</span>file<span class="token punctuation">.</span>jar\u6587\u4EF6
RUN bash <span class="token operator">-</span>c &#39;touch <span class="token operator">/</span>muran<span class="token operator">-</span>auth<span class="token punctuation">.</span>jar&#39;
# \u58F0\u660E\u670D\u52A1\u8FD0\u884C\u5728<span class="token number">8080</span>\u7AEF\u53E3
EXPOSE <span class="token number">8080</span>
# \u6307\u5B9Adocker\u5BB9\u5668\u542F\u52A8\u65F6\u8FD0\u884Cjar\u5305
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-jar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;muran-auth.jar&quot;</span><span class="token punctuation">]</span>
# \u6307\u5B9A\u7EF4\u62A4\u8005\u7684\u540D\u5B57
MAINTAINER yh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_4-\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_4-\u5BB9\u5668" aria-hidden="true">#</a> 4. \u5BB9\u5668</h3><ul><li><code>docker ps</code> - \u67E5\u770B\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668</li></ul><p><img src="`+r+'" alt="img.png"></p><ul><li><p><code>docker ps -a</code> - \u67E5\u770B\u6240\u6709\u5BB9\u5668</p></li><li><p><code>docker stop mysql</code> - \u505C\u6B62\u8FD0\u884C\u5BB9\u5668</p></li><li><p><code>docker exec -it mysql /bin/bash</code> - \u8FDB\u5165\u540E\u53F0\u8FD0\u884C\u7684\u5BB9\u5668\uFF0C\u6B64\u65F6\u53EF\u5BF9 mysql \u8FDB\u884C\u5EFA\u5E93\u5EFA\u8868\u3001\u6570\u636E\u5BFC\u5165\u7B49\u64CD\u4F5C</p></li><li><p><code>docker logs mysql / mysql\u7684\u5BB9\u5668id</code> - \u67E5\u770B\u5BB9\u5668\u65E5\u5FD7</p></li><li><p><code>docker rm mysql</code> - \u5220\u9664\u5BB9\u5668[\u5220\u9664\u4E4B\u524D\u9700\u8981\u5148 stop \u5BB9\u5668]</p></li><li><p><code>docker stats</code> - \u67E5\u770B\u8FD0\u884C\u5BB9\u5668\u6240\u5360 cpu / \u5185\u5B58 \u7B49 info</p></li></ul><p><img src="'+d+`" alt="img_1.png"></p><ul><li><p><code>docker system df</code> - \u67E5\u770B\u5BB9\u5668\u78C1\u76D8\u4F7F\u7528\u60C5\u51B5</p></li><li><p><code>docker-compose -f docker-compose-env.yml up -d</code> - \u901A\u8FC7 docker-compose-env.yml \u6587\u4EF6\u8FD0\u884C\u5BB9\u5668</p></li><li><p><code>docker compose</code></p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>. \u4E0B\u8F7DDocker Compose
<span class="token function">curl</span> -L https://get.daocloud.io/docker/compose/releases/download/2.5.0/docker-compose-<span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -s<span class="token variable">\`</span></span>-<span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span> -m<span class="token variable">\`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose

<span class="token number">2</span>. \u4FEE\u6539\u8BE5\u6587\u4EF6\u7684\u6743\u9650\u4E3A\u53EF\u6267\u884C
<span class="token function">chmod</span> +x /usr/local/bin/docker-compose

<span class="token number">3</span>. \u67E5\u770B\u662F\u5426\u5DF2\u7ECF\u5B89\u88C5\u6210\u529F
<span class="token function">docker-compose</span> --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>docker-compose.yml</code> \u6587\u4EF6\u683C\u5F0F</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">nginx</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /home/mydata/nginx/conf<span class="token punctuation">:</span>/etc/nginx <span class="token comment">#\u914D\u7F6E\u6587\u4EF6\u6302\u8F7D</span>
      <span class="token punctuation">-</span> /home/ui/muran<span class="token punctuation">-</span>ui/dist<span class="token punctuation">:</span>/usr/share/nginx/html <span class="token comment">#\u9759\u6001\u8D44\u6E90\u6839\u76EE\u5F55\u6302\u8F7D</span>
      <span class="token punctuation">-</span> /home/mydata/nginx/log<span class="token punctuation">:</span>/var/log/nginx <span class="token comment">#\u65E5\u5FD7\u6587\u4EF6\u6302\u8F7D</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token datetime number">80:80</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20);function _(f,y){const a=o("ExternalLinkIcon");return l(),c("div",null,[m,k,v,n("p",null,[n("a",b,[h,i(a)])]),g])}var j=e(u,[["render",_],["__file","docker\u5E38\u7528\u547D\u4EE4.html.vue"]]);export{j as default};
